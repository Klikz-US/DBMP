(this["webpackJsonpdatabase-portal"]=this["webpackJsonpdatabase-portal"]||[]).push([[0],{104:function(e,t,a){e.exports=a(149)},117:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(25),c=a.n(l),o=a(10),s=a(32),u=a.n(s),i=(a(117),a(118),a(119),a(120),a(12)),m=a(16),p=a(51),d=a(76),E=a(68),h=a(155),f=a(95),b=a(74),w=a(4),v=a.n(w),g=a(7),O=a(11),y=a.n(O);y.a.defaults.withCredentials=!0;var x=function(e){e?y.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete y.a.defaults.headers.common.Authorization},j=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/verifyToken"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,response:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(g.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/login"),{email:t,password:a});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,response:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/logout"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,response:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"VERIFY_TOKEN_STARTED",payload:{silentAuth:e}}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong. Please try again later.";return{type:"USER_LOGIN_FAILURE",payload:{error:e}}},S=function(e){return{type:"VERIFY_USER_SUCCESS",payload:{token:e.token,expiredAt:e.expiredAt,user:e.user}}},A=function(){return x(),{type:"USER_LOGOUT"}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(P(e)),t.next=3,j();case 3:if(!(n=t.sent).error){t.next=8;break}return a({type:"VERIFY_TOKEN_END"}),n.response&&[401,403].includes(n.response.status)&&a(A()),t.abrupt("return");case 8:204===n.status?a({type:"VERIFY_TOKEN_END"}):a(S(n.data));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(){return function(e){e(A()),C()}},T=a(42),_=a.n(T);function I(){var e=Object(o.c)((function(e){return e.auth})),t=Object(o.b)(),a=e.user.isAdmin;return r.a.createElement("header",null,r.a.createElement(p.a,{collapseOnSelect:!0,expand:"lg",bg:"info",variant:"dark",className:"shadow p-0 text-white"},r.a.createElement(h.a,null,r.a.createElement(p.a.Brand,null,r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{src:_.a,width:"auto",height:"80",alt:"STL Portal"}))),r.a.createElement(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},a&&r.a.createElement(E.a,{variant:"danger",title:"Administration ",className:"mr-4"},r.a.createElement(i.b,{to:"/users",className:"d-block px-3 py-2 text-dark"},"Rep Accounts"),r.a.createElement(i.b,{to:"/users/add",className:"d-block px-3 py-2 text-dark"},"Add New Rep")),r.a.createElement(E.a,{variant:"danger",title:"Manage Pets ",className:"mr-4"},r.a.createElement(i.b,{to:"/pets",className:"d-block px-3 py-2 text-dark"},"All Pets"),r.a.createElement(i.b,{to:"/pets/register",className:"d-block px-3 py-2 text-dark"},"Add New Pet")),r.a.createElement(E.a,{variant:"danger",title:"Manage Owners ",className:"mr-4"},r.a.createElement(i.b,{to:"/owners",className:"d-block px-3 py-2 text-dark"},"All Owners"),r.a.createElement(i.b,{to:"/owners/register",className:"d-block px-3 py-2 text-dark"},"Add New Owner"))),r.a.createElement(d.a,{className:"ml-auto"},r.a.createElement(i.b,{to:"/setting",className:"d-block"},r.a.createElement(f.a,{className:"px-2",variant:"info"},r.a.createElement(b.b,{size:24,className:"text-white"}))),r.a.createElement(f.a,{className:"px-2",variant:"info",onClick:function(){t(L())}},r.a.createElement(b.a,{size:24,className:"text-white"})))))))}var R=a(66);var M=function(e){var t=e.component,a=Object(R.a)(e,["component"]);return void 0===a.isAdmin?r.a.createElement(m.b,Object.assign({},a,{render:function(e){return a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}})):r.a.createElement(m.b,Object.assign({},a,{render:function(e){return a.isAuthenticated&&a.isAdmin?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var F=function(e){var t=e.component,a=Object(R.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return a.isAuthenticated?r.a.createElement(m.a,{to:{pathname:"/dashboard"}}):r.a.createElement(t,e)}}))},D=a(156),U=a(96);function B(){return r.a.createElement("footer",{className:"mt-auto pt-5"},r.a.createElement("div",{className:" pt-4 pb-4 bg-light shadow-lg"},r.a.createElement(h.a,null,r.a.createElement(D.a,null,r.a.createElement(U.a,{className:"text-center"},r.a.createElement("img",{src:_.a,width:"60%",height:"auto",alt:"STL Portal"})),r.a.createElement(U.a,{className:"border border-dark border-top-0 border-bottom-0 pb-2 mb-4"},r.a.createElement("h5",{className:"text-dark px-2 py-0"},"Quick Links"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-info px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"Save This Life Shopify"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-danger px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"Asana Dashboard"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-alert px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"TalkDesk"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-success px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"CSR Portal"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-primary px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"Resources")),r.a.createElement(U.a,null,r.a.createElement("h5",{className:"text-dark p-2"},"Live Updates"))),r.a.createElement("p",{className:"text-center text-dark m-0"},"\xa9 2020 Save This Life Inc. All rights reserved."),r.a.createElement("p",{className:"text-center text-dark m-0"},"Save This Life and Save This Life logo are registered trademarks of Save This Life, Inc."))))}var V,$=a(13),Y=a.n($),z=function(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();return Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]),r.a.createElement(r.a.Fragment,null)},H=a(9),W=a(44),Z=a(157),K=a(100),X=a(69),J=a(28),q=a(62),Q=a(45),ee=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(window.$server_url,"/admin/pets/page/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(window.$server_url,"/admin/pets/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/pets/add"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("".concat(window.$server_url,"/admin/pets/delete/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(g.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("".concat(window.$server_url,"/admin/pets/update/").concat(t),a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/pets/search"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/owners/search"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){var t=Object(n.useState)(""),a=Object(H.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){l(e)}),[e,l]);return{value:r,onChange:function(e){l(e.target.value)}}},se=function(e){var t=Object(n.useState)(""),a=Object(H.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){l(e)}),[e,l]);return{selected:r,onChange:function(e){l(e.target.value)}}},ue=a(97),ie=a(98),me=a(61),pe=a(102),de=a(101),Ee=a(31),he=a(159),fe=a(38),be=Object(fe.createUltimatePagination)({WrapperComponent:he.a,itemTypeToComponent:(V={},Object(Ee.a)(V,fe.ITEM_TYPES.PAGE,(function(e){var t=e.value,a=e.isActive;return r.a.createElement(he.a.Item,{"data-value":t,active:a},t)})),Object(Ee.a)(V,fe.ITEM_TYPES.ELLIPSIS,(function(e){var t=e.value,a=(e.isActive,e.onClick);return r.a.createElement(he.a.Ellipsis,{"data-value":t,onClick:a})})),Object(Ee.a)(V,fe.ITEM_TYPES.FIRST_PAGE_LINK,(function(e){var t=e.isActive,a=e.onClick;return r.a.createElement(he.a.First,{"data-value":1,disabled:t,onClick:a})})),Object(Ee.a)(V,fe.ITEM_TYPES.PREVIOUS_PAGE_LINK,(function(e){var t=e.value,a=e.isActive,n=e.onClick;return r.a.createElement(he.a.Prev,{"data-value":t,disabled:a,onClick:n})})),Object(Ee.a)(V,fe.ITEM_TYPES.NEXT_PAGE_LINK,(function(e){var t=e.value,a=e.isActive,n=e.onClick;return r.a.createElement(he.a.Next,{"data-value":t,disabled:a,onClick:n})})),Object(Ee.a)(V,fe.ITEM_TYPES.LAST_PAGE_LINK,(function(e){var t=e.value,a=e.isActive,n=e.onClick;return r.a.createElement(he.a.Last,{"data-value":t,disabled:a,onClick:n})})),V)}),we=function(e){Object(pe.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(ue.a)(this,a),(n=t.call(this,e)).onClick=n.onClick.bind(Object(me.a)(n)),n}return Object(ie.a)(a,[{key:"onClick",value:function(e){var t=e.target;if("SPAN"===t.nodeName||void 0!==t.dataset.value){var a=t.dataset.value?parseInt(t.dataset.value,10):parseInt(t.parentNode.dataset.value,10);"function"===typeof this.props.onChange&&this.props.onChange(a)}}},{key:"render",value:function(){var e=this.props,t=e.currentPage,a=e.totalPages;return r.a.createElement(be,{className:"float-right mb-0 mt-2 border border-info shadow p-1",currentPage:t,totalPages:a,onClick:this.onClick})}}]),a}(n.Component),ve=a(29),ge=a.n(ve);function Oe(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=Object(n.useState)([]),s=Object(H.a)(c,2),m=s[0],p=s[1],d=Object(n.useState)(1),E=Object(H.a)(d,2),b=E[0],w=E[1],O=Object(n.useState)(1),y=Object(H.a)(O,2),j=y[0],N=y[1],C=Object(n.useState)(!0),P=Object(H.a)(C,2),k=P[0],S=P[1],A=se("microchip"),L=oe(""),T=Object(n.useState)(!1),_=Object(H.a)(T,2),I=_[0],R=_[1],M=Object(n.useState)(!1),F=Object(H.a)(M,2),B=F[0],V=F[1],$=Object(n.useState)(!1),z=Object(H.a)($,2),te=z[0],ae=z[1];Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(b);case 2:(t=e.sent).error||(p(t.data.pets),N(parseInt(t.data.count/20))),S(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}I||(S(!0),function(){e.apply(this,arguments)}())}),[l,b,I]);var re=function(e){(e&&e.preventDefault(),""!==L.value.trim())&&function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),t={field:A.selected,value:L.value.trim()},e.next=4,le(t);case 4:(a=e.sent).error?(V(!0),R(!1)):(V(!1),R(!0),p(a.data)),ae(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},ce=function(e){e.preventDefault(),e.target.src=ge.a},ue=function(e){return r.a.createElement("tr",{style:{height:"70px"}},r.a.createElement("td",null,r.a.createElement(i.b,{to:"/pets/edit/"+e.pet._id},e.pet.microchip)),r.a.createElement("td",{className:"text-uppercase"},e.pet.membership),r.a.createElement("td",{className:"text-capitalize"},e.pet.petName),r.a.createElement("td",{className:"text-lowercase"},""!==e.pet.ownerId&&r.a.createElement(i.b,{to:"/owners/edit/"+e.pet.ownerId},e.pet.email),""===e.pet.ownerId&&r.a.createElement(r.a.Fragment,null,e.pet.email)),r.a.createElement("td",{className:"text-capitalize"},e.pet.ownerName),r.a.createElement("td",null,Y()(new Date(e.pet.registered_at)).format("MMM DD, YYYY")),r.a.createElement("td",{className:"p-1"},r.a.createElement(K.a,{placement:"left",delay:{show:250,hide:400},overlay:(t=e.pet,r.a.createElement(X.a,{id:t.microchip,className:"shadow"},r.a.createElement(X.a.Title,{as:"h2",className:"text-center"},t.microchip),r.a.createElement(X.a.Content,null,r.a.createElement("img",{src:t.photoPath?t.photoPath:ge.a,width:"100%",height:"auto",alt:t.microchip,onError:ce}))))},r.a.createElement("img",{src:e.pet.photoPath?e.pet.photoPath:ge.a,width:"73",height:"73",alt:e.pet.microchip,onError:ce}))),r.a.createElement("td",{className:"text-center pt-3"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return function(e){function t(){return(t=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:(a=t.sent).error?console.log(a.errMsg):function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(b);case 2:(t=e.sent).error||(I?re():(p(t.data.pets),N(parseInt(t.data.count/20))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),S(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}S(!0),function(){t.apply(this,arguments)}()}(e.pet._id)}}," ",r.a.createElement(J.c,{className:"text-danger mx-1"}))));var t};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Registerd Pets"),r.a.createElement(D.a,{className:"mt-4"},r.a.createElement(U.a,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,{as:D.a},r.a.createElement(U.a,{md:"4",className:"pl-0 my-auto"},r.a.createElement(Z.a.Control,Object.assign({as:"select",className:"text-capitalize"},A),r.a.createElement("option",{value:"microchip"},"Microchip"),r.a.createElement("option",{value:"email"},"Owner Email"),r.a.createElement("option",{value:"petName"},"Pet Name"),r.a.createElement("option",{value:"ownerName"},"Owner Name"))),r.a.createElement(U.a,{md:"5",className:"pl-0 my-auto"},r.a.createElement(Z.a.Control,Object.assign({type:"text"},L))),r.a.createElement(U.a,{md:"3",className:"pl-0"},r.a.createElement(f.a,{type:"submit",variant:"outline-info",className:"float-left px-2",disabled:te,onClick:re},r.a.createElement(J.b,{className:"text-danger mx-1"})),r.a.createElement(f.a,{variant:"outline-danger",className:"float-left px-2",disabled:te,onClick:function(e){e.preventDefault(),V(!1),R(!1)}},r.a.createElement(q.a,{className:"text-info mx-1"})))))),r.a.createElement(U.a,{className:"px-0"},j>1&&!I&&!B&&function(){function e(){return(e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(we,{totalPages:j,currentPage:b,onChange:function(t){return e.apply(this,arguments)}})}())),r.a.createElement(D.a,null,r.a.createElement(W.a,{responsive:!0},r.a.createElement("thead",{className:"bg-danger text-white"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"Microchip"),r.a.createElement("th",{style:{width:"11%",maxWidth:"11%"}},"Membership"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"Pet Name"),r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Owner Email"),r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Owner Name"),r.a.createElement("th",{style:{width:"13%",maxWidth:"13%"}},"Registered At"),r.a.createElement("th",{style:{width:"4%",maxWidth:"4%"}},"Photo"),r.a.createElement("th",{style:{width:"4%",maxWidth:"4%"}},"Action"))),!B&&r.a.createElement("tbody",null,function(e){return k?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(h.a,{className:"py-5 text-center",style:{position:"absolute"}},r.a.createElement(u.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:k})))):e.map((function(e,t){return r.a.createElement(ue,{pet:e,key:t})}))}(m)))),B&&r.a.createElement(D.a,{className:"justify-content-md-center my-5"},r.a.createElement(Q.a,{className:"text-warning mr-1",size:24}),"No Pet Found")))}var ye=a(15),xe=a(34),je=a.n(xe),Ne=a(158),Ce=a(27),Pe=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(window.$server_url,"/admin/photos/").concat(t),{headers:{"content-type":"application/x-www-form-urlencoded","Access-Control-Max-Age":1728e3}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/photos/add"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();function Se(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=Object(m.h)().id,s=Object(n.useState)({microchip:"",petName:"",petSpecies:"",petBreed:"",petColor:"",petGender:"male",petBirth:"",specialNeeds:"",vetInfo:"",dateRV:"",implantedCompany:"",ownerName:"",email:"",ownerPhone1:"",ownerPhone2:"",ownerPhone3:"",ownerPhone4:"",ownerPhone5:"",ownerPhone6:"",ownerPhone7:"",ownerAddress1:"",ownerAddress2:"",ownerCity:"",ownerState:"",ownerZip:"",ownerCountry:"US",ownerSecContact:"",ownerNote:""}),u=Object(H.a)(s,2),i=u[0],p=u[1],d=Object(m.g)(),E=Object(n.useState)(""),b=Object(H.a)(E,2),w=b[0],O=b[1],y=oe(i.microchip),j=oe(i.petName),N=oe(i.petSpecies),C=oe(i.petBreed),P=oe(i.petColor),k=se(i.petGender),S=oe(i.petBirth),A=oe(i.specialNeeds),T=oe(i.vetInfo),_=oe(i.dateRV),I=oe(i.implantedCompany),R=oe(i.email),M=oe(i.ownerName),F=oe(i.ownerPhone1),B=oe(i.ownerPhone2),V=oe(i.ownerPhone3),$=oe(i.ownerPhone4),z=oe(i.ownerPhone5),W=oe(i.ownerPhone6),K=oe(i.ownerPhone7),X=oe(i.ownerAddress1),J=oe(i.ownerAddress2),q=oe(i.ownerCity),Q=oe(i.ownerState),ee=oe(i.ownerZip),ae=oe(i.ownerCountry),ne=oe(i.ownerSecContact),le=oe(i.ownerNote),ce=Object(n.useState)(""),ue=Object(H.a)(ce,2),ie=ue[0],me=ue[1],pe=Object(n.useState)(""),de=Object(H.a)(pe,2),Ee=de[0],he=de[1],fe=Object(n.useState)(ge.a),be=Object(H.a)(fe,2),we=be[0],ve=be[1];Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(c);case 2:if((t=e.sent).error?l(L()):p((function(e){return Object(ye.a)(Object(ye.a)({},e),t.data)})),""===i.microchip){e.next=9;break}return e.next=7,Pe(i.microchip);case 7:(a=e.sent).error?l(L()):ve(a.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,c,p,i.microchip]);var Oe=function(e){return r.a.createElement("option",{value:e.sortname},e.name)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Update Pet Information"),r.a.createElement(Z.a,{autoComplete:"off"},r.a.createElement(h.a,null,r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"h-100 shadow"},r.a.createElement(Ne.a.Header,{className:"bg-danger text-white"},r.a.createElement("h5",{className:"m-0"},"Pet Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Microchip Number"),r.a.createElement(Z.a.Control,Object.assign({id:"microchip",name:"microchip",type:"text"},y,{placeholder:"Microchip Number"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({id:"petName",name:"petName",type:"text"},j,{placeholder:"Pet's Name"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Species"),r.a.createElement(Z.a.Control,Object.assign({as:"select",id:"petSpecies",name:"petSpecies"},N),r.a.createElement("option",null,"Choose One"),r.a.createElement("option",null,"Dog"),r.a.createElement("option",null,"Cat"),r.a.createElement("option",null,"Bird"),r.a.createElement("option",null,"Ferret"),r.a.createElement("option",null,"Goat"),r.a.createElement("option",null,"Horse"),r.a.createElement("option",null,"Pig"),r.a.createElement("option",null,"Rabbit"),r.a.createElement("option",null,"Snake"))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Breed"),r.a.createElement(Z.a.Control,Object.assign({id:"petBreed",name:"petBreed",type:"text"},C,{placeholder:"Pet's Breed"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Color"),r.a.createElement(Z.a.Control,Object.assign({id:"petColor",name:"petColor",type:"text"},P,{placeholder:"Pet's Color"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Gender"),r.a.createElement(U.a,{className:"p-0"},r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"petGender",value:"male",label:"Male",checked:"male"===k.selected},k)),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"petGender",value:"female",label:"Female",checked:"female"===k.selected},k)),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"petGender",value:"other",label:"Other",checked:"other"===k.selected},k)))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Birthdate"),r.a.createElement(Z.a.Control,Object.assign({type:"date",name:"petBirth"},S))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Any Special Needs or Medications"),r.a.createElement(Z.a.Control,Object.assign({as:"textarea",id:"specialNeeds",name:"specialNeeds"},A))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Veterinary Information"),r.a.createElement(Z.a.Control,Object.assign({as:"textarea",id:"vetInfo",name:"vetInfo"},T))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Date of Rabies Vaccination"),r.a.createElement(Z.a.Control,Object.assign({type:"date",id:"dateRV",name:"dateRV"},_))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Veterinary Hospital or Clinic where Microchip was registered."),r.a.createElement(Z.a.Control,Object.assign({type:"text",id:"implantedCompany",name:"implantedCompany",placeholder:"Veterinary Hospital or Clinic"},I)),r.a.createElement(Z.a.Text,{className:"text-muted"},'Please Type Full Name as it appears. i.e. "ZEPPY\'s Pet Hospital"')),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Pet's Photo"),r.a.createElement(Z.a.File,{custom:!0},r.a.createElement(Z.a.File.Input,{name:"petPhoto",onChange:function(e){e.preventDefault();var t=e.target.files[0];t&&(me(t),he("/uploads/photo/"+i.microchip+"."+t.name.split(".")[t.name.split(".").length-1]),ve(URL.createObjectURL(e.target.files[0])))}}),r.a.createElement(Z.a.File.Label,{"data-browse":"Upload"},"Max. 512mb. Type: .jpg / .jpeg / .png / .gif"))),r.a.createElement(Ce.a,{src:we,width:"100%",height:"auto",thumbnail:!0,onError:function(e){e.preventDefault(),e.target.src=ge.a}})))),r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"h-100 shadow"},r.a.createElement(Ne.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"Owner Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Email"),r.a.createElement(Z.a.Control,Object.assign({id:"email",name:"email",type:"email"},R,{placeholder:"Pet Owner's Email Address"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerName",name:"ownerName",type:"text"},M,{placeholder:"Pet Owner's Full Name"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Primary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone1",name:"ownerPhone1",type:"text"},F,{placeholder:"Owner's Primary Phone Number"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Secondary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone2",name:"ownerPhone2",type:"text"},B,{placeholder:"Owner's Secondary Phone Number"}))),r.a.createElement(Z.a.Label,null,"Address"),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerAddress1",name:"ownerAddress1",type:"text"},X,{placeholder:"1234 Main St"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerAddress2",name:"ownerAddress2",type:"text"},J,{placeholder:"Apartment, studio, or floor"}))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerCity",name:"ownerCity",type:"text"},q,{placeholder:"City"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerState",name:"ownerState",type:"text"},Q,{placeholder:"State"})))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerZip",name:"ownerZip",type:"text"},ee,{placeholder:"12345 (12345-6789)"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerCountry",name:"ownerCountry",as:"select"},ae),(ae.value,je.a.getAllCountries().map((function(e,t){return r.a.createElement(Oe,{name:e.name,sortname:e.sortname,key:t})})))))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Secondary Contact"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerSecContact",name:"ownerSecContact",type:"text"},ne,{placeholder:"Owner's Secondary Contact Information"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Additional Phones"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone3",name:"ownerPhone3",type:"text"},V))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone4",name:"ownerPhone4",type:"text"},$))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone5",name:"ownerPhone5",type:"text"},z))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone6",name:"ownerPhone6",type:"text"},W))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone7",name:"ownerPhone7",type:"text"},K))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Special Note"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerNote",name:"ownerNote",as:"textarea"},le))))))),r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(f.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),d.goBack()}},"Cancel"),r.a.createElement(f.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){e.preventDefault();var t={microchip:y.value,petName:j.value,petSpecies:N.value,petBreed:C.value,petColor:P.value,petGender:k.value,petBirth:S.value,specialNeeds:A.value,vetInfo:T.value,dateRV:_.value,implantedCompany:I.value,email:R.value,ownerName:M.value,ownerPhone1:F.value,ownerPhone2:B.value,ownerPhone3:V.value,ownerPhone4:$.value,ownerPhone5:z.value,ownerPhone6:W.value,ownerPhone7:K.value,ownerAddress1:X.value,ownerAddress2:J.value,ownerCity:q.value,ownerState:Q.value,ownerZip:ee.value,ownerCountry:ae.value,ownerSecContact:ne.value,ownerNote:le.value};function a(){return(a=Object(g.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(c,Object(ye.a)(Object(ye.a)({},t),{photoPath:Ee}));case 2:if(!(a=e.sent).error){e.next=7;break}O(a.errMsg),e.next=19;break;case 7:if(""===ie){e.next=18;break}return(n=new FormData).append("petMicrochip",t.microchip),n.append("petPhotoName",t.microchip+"."+ie.name.split(".")[ie.name.split(".").length-1]),n.append("petPhotoData",ie),e.next=14,ke(n);case 14:e.sent.error?O(a.errMsg):d.goBack(),e.next=19;break;case 18:d.goBack();case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}},"Update Pet"),w&&r.a.createElement(Z.a.Text,{className:"text-danger float-right mr-4"},w)))))))}function Ae(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=Object(m.g)(),s=Object(n.useState)(""),u=Object(H.a)(s,2),i=u[0],p=u[1],d=oe(""),E=oe(""),b=oe(""),w=oe(""),O=oe(""),y=se(""),j=oe(""),N=oe(""),C=oe(""),P=oe(""),k=oe(""),S=oe(""),A=oe(""),L=oe(""),T=oe(""),_=oe(""),I=oe(""),R=oe(""),M=oe(""),F=oe(""),B=oe(""),V=oe(""),$=oe(""),z=oe(""),W=oe(""),K=oe("US"),X=oe(""),J=oe(""),q=Object(n.useState)(""),Q=Object(H.a)(q,2),ee=Q[0],te=Q[1],ne=Object(n.useState)(""),re=Object(H.a)(ne,2),le=re[0],ce=re[1],ue=Object(n.useState)(ge.a),ie=Object(H.a)(ue,2),me=ie[0],pe=ie[1],de=function(e){return r.a.createElement("option",{value:e.sortname},e.name)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Update Pet Information"),r.a.createElement(Z.a,{autoComplete:"off"},r.a.createElement(h.a,null,r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"h-100 shadow"},r.a.createElement(Ne.a.Header,{className:"bg-danger text-white"},r.a.createElement("h5",{className:"m-0"},"Pet Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Microchip Number"),r.a.createElement(Z.a.Control,Object.assign({id:"microchip",name:"microchip",type:"text"},d,{placeholder:"Microchip Number"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({id:"petName",name:"petName",type:"text"},E,{placeholder:"Pet's Name"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Species"),r.a.createElement(Z.a.Control,Object.assign({as:"select",id:"petSpecies",name:"petSpecies"},b),r.a.createElement("option",null,"Choose One"),r.a.createElement("option",null,"Dog"),r.a.createElement("option",null,"Cat"),r.a.createElement("option",null,"Bird"),r.a.createElement("option",null,"Ferret"),r.a.createElement("option",null,"Goat"),r.a.createElement("option",null,"Horse"),r.a.createElement("option",null,"Pig"),r.a.createElement("option",null,"Rabbit"),r.a.createElement("option",null,"Snake"))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Breed"),r.a.createElement(Z.a.Control,Object.assign({id:"petBreed",name:"petBreed",type:"text"},w,{placeholder:"Pet's Breed"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Color"),r.a.createElement(Z.a.Control,Object.assign({id:"petColor",name:"petColor",type:"text"},O,{placeholder:"Pet's Color"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Gender"),r.a.createElement(U.a,{className:"p-0"},r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"petGender",value:"male",label:"Male",checked:"male"===y.selected},y)),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"petGender",value:"female",label:"Female",checked:"female"===y.selected},y)),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"petGender",value:"other",label:"Other",checked:"other"===y.selected},y)))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Birthdate"),r.a.createElement(Z.a.Control,Object.assign({type:"date",name:"petBirth"},j))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Any Special Needs or Medications"),r.a.createElement(Z.a.Control,Object.assign({as:"textarea",id:"specialNeeds",name:"specialNeeds"},N))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Veterinary Information"),r.a.createElement(Z.a.Control,Object.assign({as:"textarea",id:"vetInfo",name:"vetInfo"},C))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Date of Rabies Vaccination"),r.a.createElement(Z.a.Control,Object.assign({type:"date",id:"dateRV",name:"dateRV"},P))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Veterinary Hospital or Clinic where Microchip was registered."),r.a.createElement(Z.a.Control,Object.assign({type:"text",id:"implantedCompany",name:"implantedCompany",placeholder:"Veterinary Hospital or Clinic"},k)),r.a.createElement(Z.a.Text,{className:"text-muted"},'Please Type Full Name as it appears. i.e. "ZEPPY\'s Pet Hospital"')),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Pet's Photo"),r.a.createElement(Z.a.File,{custom:!0},r.a.createElement(Z.a.File.Input,{name:"petPhoto",onChange:function(e){e.preventDefault();var t=e.target.files[0];e.target.files[0]&&(te(t),ce("/uploads/photo/"+d+"."+t.name.split(".")[t.name.split(".").length-1]),pe(URL.createObjectURL(e.target.files[0])))}}),r.a.createElement(Z.a.File.Label,{"data-browse":"Upload"},"Max. 512mb. Type: .jpg / .jpeg / .png / .gif"))),r.a.createElement(Ce.a,{src:me,width:"100%",height:"auto",thumbnail:!0,onError:function(e){e.preventDefault(),e.target.src=ge.a}})))),r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"h-100 shadow"},r.a.createElement(Ne.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"Owner Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Email"),r.a.createElement(Z.a.Control,Object.assign({id:"email",name:"email",type:"email"},S,{placeholder:"Pet Owner's Email Address"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerName",name:"ownerName",type:"text"},A,{placeholder:"Pet Owner's Full Name"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Primary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone1",name:"ownerPhone1",type:"text"},L,{placeholder:"Owner's Primary Phone Number"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Secondary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone2",name:"ownerPhone2",type:"text"},T,{placeholder:"Owner's Secondary Phone Number"}))),r.a.createElement(Z.a.Label,null,"Address"),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerAddress1",name:"ownerAddress1",type:"text"},B,{placeholder:"1234 Main St"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerAddress2",name:"ownerAddress2",type:"text"},V,{placeholder:"Apartment, studio, or floor"}))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerCity",name:"ownerCity",type:"text"},$,{placeholder:"City"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerState",name:"ownerState",type:"text"},z,{placeholder:"State"})))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerZip",name:"ownerZip",type:"text"},W,{placeholder:"12345 (12345-6789)"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerCountry",name:"ownerCountry",as:"select"},K),(K.value,je.a.getAllCountries().map((function(e,t){return r.a.createElement(de,{name:e.name,sortname:e.sortname,key:t})})))))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Secondary Contact"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerSecContact",name:"ownerSecContact",type:"text"},X,{placeholder:"Owner's Secondary Contact Information"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Additional Phones"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone3",name:"ownerPhone3",type:"text"},_))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone4",name:"ownerPhone4",type:"text"},I))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone5",name:"ownerPhone5",type:"text"},R))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone6",name:"ownerPhone6",type:"text"},M))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone7",name:"ownerPhone7",type:"text"},F))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Special Note"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerNote",name:"ownerNote",as:"textarea"},J))))))),r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(f.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),c.goBack()}},"Cancel"),r.a.createElement(f.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){e.preventDefault();var t={microchip:d.value,petName:E.value,petSpecies:b.value,petBreed:w.value,petColor:O.value,petGender:y.value,petBirth:j.value,specialNeeds:N.value,vetInfo:C.value,dateRV:P.value,implantedCompany:k.value,email:S.value,ownerName:A.value,ownerPhone1:L.value,ownerPhone2:T.value,ownerPhone3:_.value,ownerPhone4:I.value,ownerPhone5:R.value,ownerPhone6:M.value,ownerPhone7:F.value,ownerAddress1:B.value,ownerAddress2:V.value,ownerCity:$.value,ownerState:z.value,ownerZip:W.value,ownerCountry:K.value,ownerSecContact:X.value,ownerNote:J.value};function a(){return(a=Object(g.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(Object(ye.a)(Object(ye.a)({},t),{photoPath:le}));case 2:if(!(a=e.sent).error){e.next=7;break}p(a.errMsg),e.next=19;break;case 7:if(""===ee){e.next=18;break}return(n=new FormData).append("petMicrochip",t.microchip),n.append("petPhotoName",t.microchip+"."+ee.name.split(".")[ee.name.split(".").length-1]),n.append("petPhotoData",ee),e.next=14,ke(n);case 14:e.sent.error?p(a.errMsg):c.goBack(),e.next=19;break;case 18:c.goBack();case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}},"Update Pet"),i&&r.a.createElement(Z.a.Text,{className:"text-danger float-right mr-4"},i)))))))}var Ge=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(window.$server_url,"/admin/owners/page/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(window.$server_url,"/admin/owners/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/owners/add"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("".concat(window.$server_url,"/admin/owners/delete/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(g.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("".concat(window.$server_url,"/admin/owners/update/").concat(t),a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();function Re(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=Object(n.useState)([]),s=Object(H.a)(c,2),m=s[0],p=s[1],d=Object(n.useState)(1),E=Object(H.a)(d,2),b=E[0],w=E[1],O=Object(n.useState)(1),y=Object(H.a)(O,2),j=y[0],N=y[1],C=Object(n.useState)(!0),P=Object(H.a)(C,2),k=P[0],S=P[1],A=se("email"),L=oe(""),T=Object(n.useState)(!1),_=Object(H.a)(T,2),I=_[0],R=_[1],M=Object(n.useState)(!1),F=Object(H.a)(M,2),B=F[0],V=F[1],$=Object(n.useState)(!1),z=Object(H.a)($,2),K=z[0],X=z[1];Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(b);case 2:(t=e.sent).error||(p(t.data.owners),N(parseInt(t.data.count/20))),S(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}I||(S(!0),function(){e.apply(this,arguments)}())}),[l,b,I]);var ee=function(e){(e&&e.preventDefault(),""!==L.value.trim())&&function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),t={field:A.selected,value:L.value.trim()},e.next=4,ce(t);case 4:(a=e.sent).error?(V(!0),R(!1)):(V(!1),R(!0),p(a.data)),X(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},te=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(i.b,{to:"/owners/edit/"+e.owner._id},e.owner.ownerName)),r.a.createElement("td",{className:"text-lowercase"},e.owner.email),r.a.createElement("td",null,e.owner.ownerPhone1),r.a.createElement("td",{className:"text-capitalize"},e.owner.ownerCity),r.a.createElement("td",{className:"text-capitalize"},e.owner.ownerState),r.a.createElement("td",null,Y()(new Date(e.owner.registered_at)).format("MMM DD, YYYY")),r.a.createElement("td",{className:"text-center"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return function(e){function t(){return(t=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e(e);case 2:(a=t.sent).error?console.log(a.errMsg):function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(b);case 2:(t=e.sent).error||(I?ee():(p(t.data.owners),N(parseInt(t.data.count/20))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),S(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}S(!0),function(){t.apply(this,arguments)}()}(e.owner._id)}}," ",r.a.createElement(J.c,{className:"text-danger mx-1"}))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Registerd Owners"),r.a.createElement(D.a,{className:"mt-4"},r.a.createElement(U.a,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,{as:D.a},r.a.createElement(U.a,{md:"4",className:"pl-0 my-auto"},r.a.createElement(Z.a.Control,Object.assign({as:"select",className:"text-capitalize"},A),r.a.createElement("option",{value:"email"},"Email"),r.a.createElement("option",{value:"ownerName"},"Owner Name"),r.a.createElement("option",{value:"ownerState"},"Owner State"))),r.a.createElement(U.a,{md:"5",className:"pl-0 my-auto"},r.a.createElement(Z.a.Control,Object.assign({type:"text"},L))),r.a.createElement(U.a,{md:"3",className:"pl-0"},r.a.createElement(f.a,{type:"submit",variant:"outline-info",className:"float-left px-2",disabled:K,onClick:ee},r.a.createElement(J.b,{className:"text-danger mx-1"})),r.a.createElement(f.a,{variant:"outline-danger",className:"float-left px-2",disabled:K,onClick:function(e){e.preventDefault(),V(!1),R(!1)}},r.a.createElement(q.a,{className:"text-info mx-1"})))))),r.a.createElement(U.a,{className:"px-0"},j>1&&!I&&!B&&function(){function e(){return(e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(we,{totalPages:j,currentPage:b,onChange:function(t){return e.apply(this,arguments)}})}())),r.a.createElement(D.a,null,r.a.createElement(W.a,{responsive:!0},r.a.createElement("thead",{className:"bg-danger text-white"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Full Name"),r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Email Address"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"Primary Phone"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"City"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"State"),r.a.createElement("th",{style:{width:"13%",maxWidth:"13%"}},"Registered At"),r.a.createElement("th",{style:{width:"5%",maxWidth:"5%"}},"Action"))),!B&&r.a.createElement("tbody",null,function(e){return k?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(h.a,{className:"my-5 py-5 text-center",style:{position:"absolute"}},r.a.createElement(u.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:k})))):e.map((function(e,t){return r.a.createElement(te,{owner:e,key:t})}))}(m)))),B&&r.a.createElement(D.a,{className:"justify-content-md-center my-5"},r.a.createElement(Q.a,{className:"text-warning mr-1",size:24}),"No Owner Found")))}function Me(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=Object(m.h)().id,s=Object(n.useState)({ownerName:"",email:"",ownerPhone1:"",ownerPhone2:"",ownerPhone3:"",ownerPhone4:"",ownerPhone5:"",ownerPhone6:"",ownerPhone7:"",ownerAddress1:"",ownerAddress2:"",ownerCity:"",ownerState:"",ownerZip:"",ownerCountry:"US",ownerSecContact:"",ownerNote:""}),u=Object(H.a)(s,2),i=u[0],p=u[1],d=Object(m.g)(),E=Object(n.useState)(""),b=Object(H.a)(E,2),w=b[0],O=b[1],y=oe(i.ownerName),j=oe(i.email),N=oe(i.ownerPhone1),C=oe(i.ownerPhone2),P=oe(i.ownerPhone3),k=oe(i.ownerPhone4),S=oe(i.ownerPhone5),A=oe(i.ownerPhone6),T=oe(i.ownerPhone7),_=oe(i.ownerAddress1),I=oe(i.ownerAddress2),R=oe(i.ownerCity),M=oe(i.ownerState),F=oe(i.ownerZip),B=oe(i.ownerCountry),V=oe(i.ownerSecContact),$=oe(i.ownerNote);Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(c);case 2:(t=e.sent).error?l(L()):p(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,c,p]);var z=function(e){return r.a.createElement("option",{value:e.sortname},e.name)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Update Owner Information"),r.a.createElement(Z.a,{autoComplete:"off"},r.a.createElement(h.a,null,r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"h-100 shadow"},r.a.createElement(Ne.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"Owner Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Email"),r.a.createElement(Z.a.Control,Object.assign({id:"email",name:"email",type:"email"},j,{placeholder:"Pet Owner's Email Address"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerName",name:"ownerName",type:"text"},y,{placeholder:"Pet Owner's Full Name"})))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Primary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone1",name:"ownerPhone1",type:"text"},N,{placeholder:"Owner's Primary Phone Number"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Secondary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone2",name:"ownerPhone2",type:"text"},C,{placeholder:"Owner's Secondary Phone Number"})))),r.a.createElement(Z.a.Label,null,"Address"),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerAddress1",name:"ownerAddress1",type:"text"},_,{placeholder:"1234 Main St"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerAddress2",name:"ownerAddress2",type:"text"},I,{placeholder:"Apartment, studio, or floor"})))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerCity",name:"ownerCity",type:"text"},R,{placeholder:"City"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerState",name:"ownerState",type:"text"},M,{placeholder:"State"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerZip",name:"ownerZip",type:"text"},F,{placeholder:"12345 (12345-6789)"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"ownerCountry",name:"ownerCountry",as:"select"},B),(B.value,je.a.getAllCountries().map((function(e,t){return r.a.createElement(z,{name:e.name,sortname:e.sortname,key:t})})))))),r.a.createElement(Z.a.Row,null,r.a.createElement(U.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Secondary Contact"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerSecContact",name:"ownerSecContact",type:"text"},V,{placeholder:"Owner's Secondary Contact Information"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Special Note"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerNote",name:"ownerNote",as:"textarea"},$)))),r.a.createElement(U.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Additional Phones"),r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone3",name:"ownerPhone3",type:"text"},P))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone4",name:"ownerPhone4",type:"text"},k))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone5",name:"ownerPhone5",type:"text"},S))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone6",name:"ownerPhone6",type:"text"},A))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"ownerPhone7",name:"ownerPhone7",type:"text"},T))))))))),r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(f.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),d.goBack()}},"Cancel"),r.a.createElement(f.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){function t(){return(t=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:j.value,ownerName:y.value,ownerPhone1:N.value,ownerPhone2:C.value,ownerPhone3:P.value,ownerPhone4:k.value,ownerPhone5:S.value,ownerPhone6:A.value,ownerPhone7:T.value,ownerAddress1:_.value,ownerAddress2:I.value,ownerCity:R.value,ownerState:M.value,ownerZip:F.value,ownerCountry:B.value,ownerSecContact:V.value,ownerNote:$.value},e.next=3,Ie(c,t);case 3:(a=e.sent).error?O(a.errMsg):d.push("/owners");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()}},"Update Owner"),w&&r.a.createElement(Z.a.Text,{className:"text-danger float-right mr-4"},w)))))))}function Fe(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=Object(m.g)(),s=Object(n.useState)(""),u=Object(H.a)(s,2),i=u[0],p=u[1],d=oe(""),E=oe(""),b=oe(""),w=oe(""),O=oe(""),y=oe(""),j=oe(""),N=oe(""),C=oe(""),P=oe(""),k=oe(""),S=oe(""),A=oe(""),L=oe(""),T=oe("US"),_=oe(""),I=oe(""),R=function(e){return r.a.createElement("option",{value:e.sortname},e.name)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Register A New Pet Owner"),r.a.createElement(Z.a,{autoComplete:"off"},r.a.createElement(h.a,null,r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"h-100 shadow"},r.a.createElement(Ne.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"Owner Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Email"),r.a.createElement(Z.a.Control,Object.assign({id:"email",name:"email",type:"email"},E,{placeholder:"Pet Owner's Email Address"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({id:"name",name:"name",type:"text"},d,{placeholder:"Pet Owner's Full Name"})))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Primary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"phone1",name:"phone1",type:"text"},b,{placeholder:"Owner's Primary Phone Number"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Label,null,"Secondary Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"phone2",name:"phone2",type:"text"},w,{placeholder:"Owner's Secondary Phone Number"})))),r.a.createElement(Z.a.Label,null,"Address"),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"address1",name:"address1",type:"text"},P,{placeholder:"1234 Main St"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"address2",name:"address2",type:"text"},k,{placeholder:"Apartment, studio, or floor"})))),r.a.createElement(Z.a.Row,null,r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"city",name:"city",type:"text"},S,{placeholder:"City"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"state",name:"state",type:"text"},A,{placeholder:"State"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"zip",name:"zip",type:"text"},L,{placeholder:"12345 (12345-6789)"}))),r.a.createElement(Z.a.Group,{as:U.a},r.a.createElement(Z.a.Control,Object.assign({id:"country",name:"country",as:"select"},T),(T.value,je.a.getAllCountries().map((function(e,t){return r.a.createElement(R,{name:e.name,sortname:e.sortname,key:t})})))))),r.a.createElement(Z.a.Row,null,r.a.createElement(U.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Secondary Contact"),r.a.createElement(Z.a.Control,Object.assign({id:"seccon",name:"seccon",type:"text"},_,{placeholder:"Owner's Secondary Contact Information"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Special Note"),r.a.createElement(Z.a.Control,Object.assign({id:"spenote",name:"spenote",as:"textarea"},I)))),r.a.createElement(U.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Additional Phones"),r.a.createElement(Z.a.Control,Object.assign({id:"phone3",name:"phone3",type:"text"},O))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"phone4",name:"phone4",type:"text"},y))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"phone5",name:"phone5",type:"text"},j))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"phone6",name:"phone6",type:"text"},N))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Control,Object.assign({id:"phone7",name:"phone7",type:"text"},C))))))))),r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(f.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),c.push("/users")}},"Cancel"),r.a.createElement(f.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){function t(){return(t=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:E.value,ownerName:d.value,ownerPhone1:b.value,ownerPhone2:w.value,ownerPhone3:O.value,ownerPhone4:y.value,ownerPhone5:j.value,ownerPhone6:N.value,ownerPhone7:C.value,ownerAddress1:P.value,ownerAddress2:k.value,ownerCity:S.value,ownerState:A.value,ownerZip:L.value,ownerCountry:T.value,ownerSecContact:_.value,ownerNote:I.value},e.next=3,Te(t);case 3:(a=e.sent).error?p(a.errMsg):c.push("/owners");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()}},"Register Owner"),i&&r.a.createElement(Z.a.Text,{className:"text-danger float-right mr-4"},i)))))))}var De=function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(window.$server_url,"/admin/users"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(window.$server_url,"/admin/users/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(window.$server_url,"/admin/users/add"),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("".concat(window.$server_url,"/admin/users/delete/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(g.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("".concat(window.$server_url,"/admin/users/edit/").concat(t),a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();function Ye(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=e.user.userId,s=e.user.username,m=Object(n.useState)([]),p=Object(H.a)(m,2),d=p[0],E=p[1],f=Object(n.useState)(""),b=Object(H.a)(f,2),w=b[0],O=b[1],y=Object(n.useState)(!0),j=Object(H.a)(y,2),N=j[0],C=j[1];Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De();case 2:(t=e.sent).error?l(L()):E(t.data),C(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}C(!0),function(){e.apply(this,arguments)}()}),[l]);var P=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(i.b,{to:"/users/edit/"+e.user._id},e.user.name)),r.a.createElement("td",null,e.user.email),r.a.createElement("td",null,e.user.phone),r.a.createElement("td",null,e.user.role),r.a.createElement("td",null,s!==e.user.email&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"tel:"+e.user.phone},r.a.createElement(Q.b,{className:"text-info mx-1"}))," ",r.a.createElement("a",{href:"mailto:"+e.user.email},r.a.createElement(J.a,{className:"text-primary mx-1"}))),!e.user.isAdmin&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return function(e){function t(){return(t=Object(g.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ve(e);case 2:(a=t.sent).error?(O(a.errMsg),setTimeout((function(){O("")}),3e3)):E(a.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}(e.user._id)}}," ",r.a.createElement(J.c,{style:{cursor:"pointer"},className:"text-danger mx-1"})))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"All Portal Users"),r.a.createElement(D.a,null,r.a.createElement(W.a,{responsive:!0},r.a.createElement("thead",{className:"bg-success text-white"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Manage"))),r.a.createElement("tbody",null,function(e){return N?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(h.a,{className:"py-5 text-center",style:{position:"absolute"}},r.a.createElement(u.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:N})))):e.map((function(e,t){if(e._id===c)return null;var a={};switch(e.role){case"admin":a.role="STL Admin";break;case"rep":a.role="STL Rep";break;default:a.role="Vet Practice"}return r.a.createElement(P,{user:Object(ye.a)(Object(ye.a)({},e),a),key:t})}))}(d)))),""!==w&&r.a.createElement("p",{className:"float-right text-danger mx-4"},w)))}var ze=a(46),He=a.n(ze);function We(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=se("vet"),s=oe(""),u=oe(""),i=oe(""),p=oe(""),d=oe(""),E=Object(m.g)(),b=Object(n.useState)(""),w=Object(H.a)(b,2),O=w[0],y=w[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Add A New Portal User"),r.a.createElement(Z.a,{autoComplete:"off"},r.a.createElement(D.a,null,r.a.createElement(U.a,{className:"align-self-center"},r.a.createElement(Ce.a,{src:He.a,roundedCircle:!0,width:"90%"})),r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"shadow"},r.a.createElement(Ne.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"User Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Role"),r.a.createElement(U.a,{className:"p-0"},r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"admin",label:"STL Admin",checked:"admin"===c.selected},c)),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"rep",checked:"rep"===c.selected,label:"STL Representation"},c)),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"vet",label:"Vet Practice",checked:"vet"===c.selected},c)))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({id:"userName",type:"text"},s,{placeholder:"Enter Full Name"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Email"),r.a.createElement(Z.a.Control,Object.assign({id:"userEmail",type:"email"},u,{placeholder:"Enter Email Address"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Phone"),r.a.createElement(Z.a.Control,Object.assign({id:"userPhone",type:"text"},i,{placeholder:"Enter Phone Number"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Password"),r.a.createElement(Z.a.Control,Object.assign({id:"userPass",type:"password"},p,{placeholder:"Enter Password"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Confirm Password"),r.a.createElement(Z.a.Control,Object.assign({id:"userPassConfirm",type:"password"},d,{placeholder:"Enter Password Again"}))))))),r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(f.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),E.push("/users")}},"Cancel"),r.a.createElement(f.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){(e.preventDefault(),p.value===d.value)?function(){var e=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={role:c.selected,email:u.value,phone:i.value,name:s.value,password:p.value}).isAdmin="admin"===t.role,e.next=4,Be(t);case 4:(a=e.sent).error?y(a.errMsg):E.push("/users");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():y("Password do not match")}},"Add User"),O&&r.a.createElement(Z.a.Text,{className:"text-danger float-right mr-4"},O))))))}function Ze(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=Object(m.h)().id,s=e.user.userId,u=Object(m.g)(),i=Object(n.useState)(""),p=Object(H.a)(i,2),d=p[0],E=p[1],b=Object(n.useState)({role:"",name:"",email:"",phone:""}),w=Object(H.a)(b,2),O=w[0],y=w[1],j=se(O.role),N=oe(O.name),C=oe(O.email),P=oe(O.phone),k=oe(""),S=oe("");Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(c);case 2:(t=e.sent).error?l(L()):y(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,c,y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,s===c&&r.a.createElement("h1",{className:"m-5 text-center"},"My Profile"),s!==c&&r.a.createElement("h1",{className:"m-5 text-center"},"Edit User"),r.a.createElement(Z.a,{autoComplete:"off"},r.a.createElement(D.a,null,r.a.createElement(U.a,{className:"align-self-center"},r.a.createElement(Ce.a,{src:He.a,roundedCircle:!0,width:"90%"})),r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"shadow"},r.a.createElement(Ne.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"User Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Role"),r.a.createElement(U.a,{className:"p-0"},r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"admin",label:"STL Admin",checked:"admin"===j.selected},j,{disabled:s===c})),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"rep",checked:"rep"===j.selected,label:"STL Representation"},j,{disabled:s===c})),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"vet",label:"Vet Practice",checked:"vet"===j.selected},j,{disabled:s===c})))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({type:"text"},N,{placeholder:"Enter Full Name"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Email"),r.a.createElement(Z.a.Control,Object.assign({type:"email"},C,{placeholder:"Enter Email Address"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Phone"),r.a.createElement(Z.a.Control,Object.assign({type:"text"},P,{placeholder:"Enter Phone Number"}))),c===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Password"),r.a.createElement(Z.a.Control,Object.assign({type:"password"},k,{placeholder:"Enter Password"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Confirm Password"),r.a.createElement(Z.a.Control,Object.assign({type:"password"},S,{placeholder:"Enter Password Again"})))))))),r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(f.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),u.push("/users")}},"Cancel"),r.a.createElement(f.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){function t(){return(t=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},k.value!==S.value?E("Re-enter the passwords!"):t=c===s?{role:O.role,email:C.value,phone:P.value,name:N.value,password:k.value}:{role:j.selected,email:C.value,phone:P.value,name:N.value,password:k.value},t.isAdmin="admin"===t.role,e.next=5,$e(c,t);case 5:(a=e.sent).error?E(a.errMsg):u.push("/users");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()}},"Update"),d&&r.a.createElement(Z.a.Text,{className:"text-danger float-right mr-4"},d))))))}function Ke(){var e=Object(o.c)((function(e){return e.auth})),t=e.token,a=e.expiredAt,l=Object(o.b)();Object(n.useEffect)((function(){x(t);var e=setTimeout((function(){l(G(!0))}),Y()(a).diff()-1e4);return function(){clearTimeout(e)}}),[a,t,l]);var c=e.user.userId,s=Object(m.g)(),u=Object(n.useState)(""),i=Object(H.a)(u,2),p=i[0],d=i[1],E=Object(n.useState)({role:"",name:"",email:"",phone:""}),b=Object(H.a)(E,2),w=b[0],O=b[1],y=se(w.role),j=oe(w.name),N=oe(w.email),C=oe(w.phone),P=oe(""),k=oe("");Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(c);case 2:(t=e.sent).error?l(L()):O(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,c,O]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"My Profile"),r.a.createElement(Z.a,{autoComplete:"off"},r.a.createElement(D.a,null,r.a.createElement(U.a,{className:"align-self-center"},r.a.createElement(Ce.a,{src:He.a,roundedCircle:!0,width:"90%"})),r.a.createElement(U.a,null,r.a.createElement(Ne.a,{className:"shadow"},r.a.createElement(Ne.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"User Information")),r.a.createElement(Ne.a.Body,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Role"),r.a.createElement(U.a,{className:"p-0"},r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"admin",label:"STL Admin",checked:"admin"===y.selected},y,{disabled:!0})),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"rep",checked:"rep"===y.selected,label:"STL Representation"},y,{disabled:!0})),r.a.createElement(Z.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"vet",label:"Vet Practice",checked:"vet"===y.selected},y,{disabled:!0})))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Name"),r.a.createElement(Z.a.Control,Object.assign({type:"text"},j,{placeholder:"Enter Full Name"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Email"),r.a.createElement(Z.a.Control,Object.assign({type:"email"},N,{placeholder:"Enter Email Address"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Phone"),r.a.createElement(Z.a.Control,Object.assign({type:"text"},C,{placeholder:"Enter Phone Number"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Password"),r.a.createElement(Z.a.Control,Object.assign({type:"password"},P,{placeholder:"Enter Password"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Confirm Password"),r.a.createElement(Z.a.Control,Object.assign({type:"password"},k,{placeholder:"Enter Password Again"}))))))),r.a.createElement(D.a,null,r.a.createElement(U.a,null,r.a.createElement(f.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),s.push("/users")}},"Cancel"),r.a.createElement(f.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){function t(){return(t=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},P.value!==k.value?d("Re-enter the passwords!"):t={role:w.role,email:N.value,phone:C.value,name:j.value,password:P.value},t.isAdmin="admin"===t.role,e.next=5,$e(c,t);case 5:(a=e.sent).error?d(a.errMsg):s.push("/users");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()}},"Update"),p&&r.a.createElement(Z.a.Text,{className:"text-danger float-right mr-4"},p))))))}function Xe(){return r.a.createElement(r.a.Fragment,null)}function Je(){var e=Object(o.c)((function(e){return e.auth})),t=Object(o.b)(),a=e.loginLoading,n=e.loginError,l=oe(""),c=oe("");return r.a.createElement(h.a,null,r.a.createElement(D.a,{className:"justify-content-md-center min-vh-100"},r.a.createElement(Ne.a,{className:"shadow w-50 my-auto"},r.a.createElement(Ne.a.Header,{className:"bg-danger text-white"},r.a.createElement("h3",{className:"m-0 text-center"},"Save This Life Admin Portal")),r.a.createElement(Ne.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(U.a,{className:"my-auto"},r.a.createElement(Ne.a.Img,{variant:"left",className:"w-100",src:_.a})),r.a.createElement(U.a,null,r.a.createElement(Ne.a.Title,null,"Login Information"),r.a.createElement(Ne.a.Text,null,"Please request Heather the login credentials if you are a identified Vet Practice."),r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Email address"),r.a.createElement(Z.a.Control,Object.assign({type:"email"},l,{placeholder:"Enter email"}))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Password"),r.a.createElement(Z.a.Control,Object.assign({type:"password"},c,{placeholder:"Enter Password"}))),r.a.createElement(f.a,{type:"submit",variant:"outline-info",onClick:function(){""!==l.value&&""!==c.value&&t(function(e,t){return function(){var a=Object(g.a)(v.a.mark((function a(n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"USER_LOGIN_STARTED"}),a.next=3,N(e,t);case 3:if(!(r=a.sent).error){a.next=7;break}return n(k(r.response)),a.abrupt("return");case 7:n(S(r.data));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(l.value,c.value))},disabled:a},a?"Loading...":"Login"),n&&r.a.createElement(Z.a.Text,{className:"text-danger"},n))))))))}function qe(){var e=Object(o.c)((function(e){return e.auth})),t=e.isAuthenticated,a=(null!==e.user&&e.user).isAdmin;return r.a.createElement(i.a,null,r.a.createElement("div",null,t&&r.a.createElement(I,null),r.a.createElement("main",null,r.a.createElement(m.d,null,r.a.createElement(M,{path:"/",exact:!0,component:z,isAuthenticated:t}),r.a.createElement(M,{path:"/pets",exact:!0,component:Oe,isAuthenticated:t}),r.a.createElement(M,{path:"/pets/edit/:id",exact:!0,component:Se,isAuthenticated:t}),r.a.createElement(M,{path:"/pets/register",exact:!0,component:Ae,isAuthenticated:t}),r.a.createElement(M,{path:"/owners",exact:!0,component:Re,isAuthenticated:t}),r.a.createElement(M,{path:"/owners/edit/:id",exact:!0,component:Me,isAuthenticated:t}),r.a.createElement(M,{path:"/owners/register",exact:!0,component:Fe,isAuthenticated:t}),r.a.createElement(M,{path:"/users",exact:!0,component:Ye,isAuthenticated:t,isAdmin:a}),r.a.createElement(M,{path:"/users/add",exact:!0,component:We,isAuthenticated:t,isAdmin:a}),r.a.createElement(M,{path:"/users/edit/:id",exact:!0,component:Ze,isAuthenticated:t,isAdmin:a}),r.a.createElement(M,{path:"/setting",exact:!0,component:Ke,isAuthenticated:t}),r.a.createElement(M,{path:"/report",exact:!0,component:Xe,isAuthenticated:t,isAdmin:a}),r.a.createElement(F,{path:"/login",component:Je,isAuthenticated:t}),r.a.createElement(m.a,{to:t?"/":"/login"})))),t&&r.a.createElement(B,null))}function Qe(){var e=Object(o.c)((function(e){return e.auth})),t=Object(o.b)(),a=e.authLoading;return Object(n.useEffect)((function(){t(G())}),[t]),a?r.a.createElement(D.a,{className:"vh-100"},r.a.createElement(u.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:a})):r.a.createElement(qe,null)}var et=a(36),tt=a(99),at={token:null,expiredAt:null,user:null,authLoading:!0,isAuthenticated:!1,loginLoading:!1,loginError:null},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VERIFY_TOKEN_STARTED":var a=t.payload.silentAuth;return a?Object(ye.a)({},e):at;case"VERIFY_TOKEN_END":return Object(ye.a)(Object(ye.a)({},e),{},{authLoading:!1});case"USER_LOGIN_STARTED":return Object(ye.a)(Object(ye.a)({},e),{},{loginLoading:!0});case"USER_LOGIN_FAILURE":var n=t.payload.error;return Object(ye.a)(Object(ye.a)({},e),{},{loginError:n,loginLoading:!1});case"VERIFY_USER_SUCCESS":var r=t.payload,l=r.token,c=r.expiredAt,o=r.user;return Object(ye.a)(Object(ye.a)({},e),{},{token:l,expiredAt:c,user:o,isAuthenticated:!0,authLoading:!1,loginLoading:!1});case"USER_LOGOUT":return Object(ye.a)(Object(ye.a)({},at),{},{authLoading:!1});default:return e}},rt=Object(et.c)({auth:nt}),lt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):et.d)(Object(et.a)(tt.a)),ct=Object(et.e)(rt,lt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(148);window.$server_url="https://admin.klikz.us:8443",c.a.render(r.a.createElement(o.a,{store:ct},r.a.createElement(Qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},29:function(e,t,a){e.exports=a.p+"static/media/nophoto.0f35df8a.png"},42:function(e,t,a){e.exports=a.p+"static/media/logo.1b1ab04b.png"},46:function(e,t,a){e.exports=a.p+"static/media/user-register.28e15831.jpg"}},[[104,1,2]]]);
//# sourceMappingURL=main.4bf08dc0.chunk.js.map