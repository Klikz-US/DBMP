(this["webpackJsonpdatabase-portal"]=this["webpackJsonpdatabase-portal"]||[]).push([[0],{106:function(e,a,t){e.exports=t.p+"static/media/logo.1b1ab04b.png"},119:function(e,a,t){e.exports=t.p+"static/media/user-register.28e15831.jpg"},324:function(e,a,t){e.exports=t(631)},336:function(e,a,t){},630:function(e,a,t){},631:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(18),o=t.n(l),c=t(19),i=t(77),s=t.n(i),m=(t(336),t(337),t(338),t(339),t(23)),u=t(34),p=t(138),d=t(228),h=t(185),E=t(639),w=t(301),v=t(220),b=t(7),f=t.n(b),C=t(13),y=t(17),g=t.n(y);g.a.defaults.withCredentials=!0;var N=function(e){e?g.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete g.a.defaults.headers.common.Authorization},P=function(){var e=Object(C.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(window.$server_url,"/verifyToken"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,response:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(C.a)(f.a.mark((function e(a,t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(window.$server_url,"/login"),{email:a,password:t});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,response:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),O=function(){var e=Object(C.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(window.$server_url,"/logout"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,response:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"VERIFY_TOKEN_STARTED",payload:{silentAuth:e}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong. Please try again later.";return{type:"USER_LOGIN_FAILURE",payload:{error:e}}},j=function(e){return{type:"VERIFY_USER_SUCCESS",payload:{token:e.token,expiredAt:e.expiredAt,user:e.user}}},A=function(){return N(),{type:"USER_LOGOUT"}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var a=Object(C.a)(f.a.mark((function a(t){var n;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(k(e)),a.next=3,P();case 3:if(!(n=a.sent).error){a.next=8;break}return t({type:"VERIFY_TOKEN_END"}),n.response&&[401,403].includes(n.response.status)&&t(A()),a.abrupt("return");case 8:204===n.status?t({type:"VERIFY_TOKEN_END"}):t(j(n.data));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},I=function(){return function(e){e(A()),O()}},B=t(106),L=t.n(B);function F(){var e=Object(c.c)((function(e){return e.auth})),a=Object(c.b)(),t=e.user.isAdmin;return r.a.createElement("header",null,r.a.createElement(p.a,{collapseOnSelect:!0,expand:"lg",bg:"info",variant:"dark",className:"shadow p-0 text-white"},r.a.createElement(E.a,null,r.a.createElement(p.a.Brand,null,r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:L.a,width:"auto",height:"80",alt:"STL Portal"}))),r.a.createElement(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},t&&r.a.createElement(h.a,{variant:"danger",title:"Administration ",className:"mr-4"},r.a.createElement(m.b,{to:"/users",className:"d-block px-3 py-2 text-dark"},"Rep Accounts"),r.a.createElement(m.b,{to:"/users/add",className:"d-block px-3 py-2 text-dark"},"Add New Rep")),r.a.createElement(h.a,{variant:"danger",title:"Manage Pets ",className:"mr-4"},r.a.createElement(m.b,{to:"/pets",className:"d-block px-3 py-2 text-dark"},"All Pets"),r.a.createElement(m.b,{to:"/pets/register",className:"d-block px-3 py-2 text-dark"},"Add New Pet")),r.a.createElement(h.a,{variant:"danger",title:"Manage Owners ",className:"mr-4"},r.a.createElement(m.b,{to:"/owners",className:"d-block px-3 py-2 text-dark"},"All Owners"),r.a.createElement(m.b,{to:"/owners/register",className:"d-block px-3 py-2 text-dark"},"Add New Owner"))),r.a.createElement(d.a,{className:"ml-auto"},r.a.createElement(m.b,{to:"/setting",className:"d-block"},r.a.createElement(w.a,{className:"px-2",variant:"info"},r.a.createElement(v.b,{size:24,className:"text-white"}))),r.a.createElement(w.a,{className:"px-2",variant:"info",onClick:function(){a(I())}},r.a.createElement(v.a,{size:24,className:"text-white"})))))))}var T=t(178);var _=function(e){var a=e.component,t=Object(T.a)(e,["component"]);return void 0===t.isAdmin?r.a.createElement(u.b,Object.assign({},t,{render:function(e){return t.isAuthenticated?r.a.createElement(a,e):r.a.createElement(u.a,{to:{pathname:"/login",state:{from:e.location}}})}})):r.a.createElement(u.b,Object.assign({},t,{render:function(e){return t.isAuthenticated&&t.isAdmin?r.a.createElement(a,e):r.a.createElement(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var R=function(e){var a=e.component,t=Object(T.a)(e,["component"]);return r.a.createElement(u.b,Object.assign({},t,{render:function(e){return t.isAuthenticated?r.a.createElement(u.a,{to:{pathname:"/dashboard"}}):r.a.createElement(a,e)}}))},V=t(640),M=t(302);function q(){return r.a.createElement("footer",{className:"mt-auto pt-5"},r.a.createElement("div",{className:" pt-4 pb-4 bg-light shadow-lg"},r.a.createElement(E.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,{className:"text-center"},r.a.createElement("img",{src:L.a,width:"60%",height:"auto",alt:"STL Portal"})),r.a.createElement(M.a,{className:"border border-dark border-top-0 border-bottom-0 pb-2 mb-4"},r.a.createElement("h5",{className:"text-dark px-2 py-0"},"Quick Links"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-info px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"Save This Life Shopify"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-danger px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"Asana Dashboard"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-alert px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"TalkDesk"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-success px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"CSR Portal"),r.a.createElement("a",{rel:"noopener noreferrer",className:"text-primary px-2 py-1 d-block",href:"https://shop.savethislife.com",target:"_blank"},"Resources")),r.a.createElement(M.a,null,r.a.createElement("h5",{className:"text-dark p-2"},"Live Updates"))),r.a.createElement("p",{className:"text-center text-dark m-0"},"\xa9 2020 Save This Life Inc. All rights reserved."),r.a.createElement("p",{className:"text-center text-dark m-0"},"Save This Life and Save This Life logo are registered trademarks of Save This Life, Inc."))))}var D,U=t(31),Z=t.n(U),$=t(16),z=function(){return r.a.createElement($.p,{className:"mb-4"},r.a.createElement($.h,{xl:"3",md:"6",className:"mb-3"},r.a.createElement($.e,{color:"primary-color",className:"classic-admin-card"},r.a.createElement($.f,null,r.a.createElement("div",{className:"float-right"},r.a.createElement($.i,{far:!0,icon:"money-bill-alt"})),r.a.createElement("p",{className:"white-text"},"Sales"),r.a.createElement("h4",null,r.a.createElement("strong",null,"$2000"))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":"25",className:"progress-bar bg grey darken-3",role:"progressbar",style:{width:"25%"}})),r.a.createElement($.f,null,r.a.createElement("p",null,"Better than last week (25%)")))),r.a.createElement($.h,{xl:"3",md:"6",className:"mb-3"},r.a.createElement($.e,{color:"warning-color",className:"classic-admin-card"},r.a.createElement($.f,null,r.a.createElement("div",{className:"float-right"},r.a.createElement($.i,{icon:"chart-line"})),r.a.createElement("p",{className:"white-text"},"SUBSCRIPTIONS"),r.a.createElement("h4",null,r.a.createElement("strong",null,"200"))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":"25",className:"progress-bar bg grey darken-3",role:"progressbar",style:{width:"25%"}})),r.a.createElement($.f,null,r.a.createElement("p",null,"Worse than last week (25%)")))),r.a.createElement($.h,{xl:"3",md:"6",className:"mb-3"},r.a.createElement($.e,{color:"primary-color",className:"classic-admin-card"},r.a.createElement($.f,null,r.a.createElement("div",{className:"float-right"},r.a.createElement($.i,{icon:"chart-pie"})),r.a.createElement("p",{className:"white-text"},"TRAFFIC"),r.a.createElement("h4",null,r.a.createElement("strong",null,"20000"))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":"75",className:"progress-bar bg grey darken-3",role:"progressbar",style:{width:"75%"}})),r.a.createElement($.f,null,r.a.createElement("p",null,"Better than last week (75%)")))),r.a.createElement($.h,{xl:"3",md:"6",className:"mb-3"},r.a.createElement($.e,{color:"red accent-2",className:"classic-admin-card"},r.a.createElement($.f,null,r.a.createElement("div",{className:"float-right"},r.a.createElement($.i,{icon:"chart-bar"})),r.a.createElement("p",{className:"white-text"},"ORGANIC TRAFFIC"),r.a.createElement("h4",null,r.a.createElement("strong",null,"2000"))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":"25",className:"progress-bar bg grey darken-3",role:"progressbar",style:{width:"25%"}})),r.a.createElement($.f,null,r.a.createElement("p",null,"Better than last week (75%)")))))},W=t(39),Y=t(40),H=t(42),K=t(41),J=t(224),X=function(e){Object(H.a)(t,e);var a=Object(K.a)(t);function t(){return Object(W.a)(this,t),a.apply(this,arguments)}return Object(Y.a)(t,[{key:"render",value:function(){return r.a.createElement($.p,{className:"mb-4"},r.a.createElement($.h,{md:"8",className:"mb-4"},r.a.createElement($.e,{className:"mb-4"},r.a.createElement($.f,null,r.a.createElement(J.a,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"#1",data:[12,39,3,50,2,32,84],backgroundColor:"rgba(245, 74, 85, 0.5)",borderWidth:1},{label:"#2",data:[56,24,5,16,45,24,8],backgroundColor:"rgba(90, 173, 246, 0.5)",borderWidth:1},{label:"#3",data:[12,25,54,3,15,44,3],backgroundColor:"rgba(245, 192, 50, 0.5)",borderWidth:1}]},height:500,options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{barPercentage:1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}],yAxes:[{gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"},ticks:{beginAtZero:!0}}]}}})))),r.a.createElement($.h,{md:"4",className:"mb-4"},r.a.createElement($.e,{className:"mb-4"},r.a.createElement($.g,null,"Sales chart"),r.a.createElement($.f,null,r.a.createElement(J.b,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{data:[300,50,100,40,120,24,52],backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360","#ac64ad"],hoverBackgroundColor:["#FF5A5E","#5AD3D1","#FFC870","#A8B3C5","#616774","#da92db"]}]},height:300,options:{responsive:!0}}))),r.a.createElement($.e,{className:"mb-4"},r.a.createElement($.f,null,r.a.createElement($.l,{className:"list-group-flush"},r.a.createElement($.m,null,"Sales",r.a.createElement($.b,{color:"success-color",pill:!0,className:"float-right"},"22%",r.a.createElement($.i,{icon:"arrow-up",className:"ml-1"}))),r.a.createElement($.m,null,"Traffic",r.a.createElement($.b,{color:"danger-color",pill:!0,className:"float-right"},"5%",r.a.createElement($.i,{icon:"arrow-down",className:"ml-1"}))),r.a.createElement($.m,null,"Orders",r.a.createElement($.b,{color:"primary-color",pill:!0,className:"float-right"},"14")),r.a.createElement($.m,null,"Issues",r.a.createElement($.b,{color:"primary-color",pill:!0,className:"float-right"},"123")),r.a.createElement($.m,null,"Messages",r.a.createElement($.b,{color:"primary-color",pill:!0,className:"float-right"},"8")))))))}}]),t}(n.Component),Q=function(){var e=Object(c.c)((function(e){return e.auth})),a=e.token,t=e.expiredAt,l=Object(c.b)();return Object(n.useEffect)((function(){N(a);var e=setTimeout((function(){l(G(!0))}),Z()(t).diff()-1e4);return function(){clearTimeout(e)}}),[t,a,l]),r.a.createElement(E.a,null,r.a.createElement("h1",{className:"my-5 text-center"},"Welcome, ",e.user.name),r.a.createElement(z,null),r.a.createElement(X,null))},ee=t(21),ae=t(108),te=t(641),ne=t(321),re=t(186),le=t(66),oe=t(166),ce=t(109),ie=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(window.$server_url,"/pets/page/").concat(a));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),se=function(){var e=Object(C.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(window.$server_url,"/pets/count"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(window.$server_url,"/pets/delete/").concat(a));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(window.$server_url,"/pets/search"),a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(window.$server_url,"/owners/search"),a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),de=function(e){var a=Object(n.useState)(""),t=Object(ee.a)(a,2),r=t[0],l=t[1];Object(n.useEffect)((function(){l(e)}),[e,l]);return{value:r,onChange:function(e){l(e.target.value)}}},he=function(e){var a=Object(n.useState)(""),t=Object(ee.a)(a,2),r=t[0],l=t[1];Object(n.useEffect)((function(){l(e)}),[e,l]);return{selected:r,onChange:function(e){l(e.target.value)}}},Ee=t(33),we=t(72),ve=t(643),be=t(91),fe=Object(be.createUltimatePagination)({WrapperComponent:ve.a,itemTypeToComponent:(D={},Object(we.a)(D,be.ITEM_TYPES.PAGE,(function(e){var a=e.value,t=e.isActive;return r.a.createElement(ve.a.Item,{"data-value":a,active:t},a)})),Object(we.a)(D,be.ITEM_TYPES.ELLIPSIS,(function(e){var a=e.value,t=(e.isActive,e.onClick);return r.a.createElement(ve.a.Ellipsis,{"data-value":a,onClick:t})})),Object(we.a)(D,be.ITEM_TYPES.FIRST_PAGE_LINK,(function(e){var a=e.isActive,t=e.onClick;return r.a.createElement(ve.a.First,{"data-value":1,disabled:a,onClick:t})})),Object(we.a)(D,be.ITEM_TYPES.PREVIOUS_PAGE_LINK,(function(e){var a=e.value,t=e.isActive,n=e.onClick;return r.a.createElement(ve.a.Prev,{"data-value":a,disabled:t,onClick:n})})),Object(we.a)(D,be.ITEM_TYPES.NEXT_PAGE_LINK,(function(e){var a=e.value,t=e.isActive,n=e.onClick;return r.a.createElement(ve.a.Next,{"data-value":a,disabled:t,onClick:n})})),Object(we.a)(D,be.ITEM_TYPES.LAST_PAGE_LINK,(function(e){var a=e.value,t=e.isActive,n=e.onClick;return r.a.createElement(ve.a.Last,{"data-value":a,disabled:t,onClick:n})})),D)}),Ce=function(e){Object(H.a)(t,e);var a=Object(K.a)(t);function t(e){var n;return Object(W.a)(this,t),(n=a.call(this,e)).onClick=n.onClick.bind(Object(Ee.a)(n)),n}return Object(Y.a)(t,[{key:"onClick",value:function(e){var a=e.target;if("SPAN"===a.nodeName||void 0!==a.dataset.value){var t=a.dataset.value?parseInt(a.dataset.value,10):parseInt(a.parentNode.dataset.value,10);"function"===typeof this.props.onChange&&this.props.onChange(t)}}},{key:"render",value:function(){var e=this.props,a=e.currentPage,t=e.totalPages;return r.a.createElement(fe,{className:"float-right mb-0 mt-2 border border-info shadow p-1",currentPage:a,totalPages:t,onClick:this.onClick})}}]),t}(n.Component),ye=t(99),ge=t.n(ye);function Ne(){var e=Object(c.c)((function(e){return e.auth})),a=e.token,t=e.expiredAt,l=Object(c.b)();Object(n.useEffect)((function(){N(a);var e=setTimeout((function(){l(G(!0))}),Z()(t).diff()-1e4);return function(){clearTimeout(e)}}),[t,a,l]);var o=Object(n.useState)([]),i=Object(ee.a)(o,2),u=i[0],p=i[1],d=Object(n.useState)(1),h=Object(ee.a)(d,2),v=h[0],b=h[1],y=Object(n.useState)(1),g=Object(ee.a)(y,2),P=g[0],x=g[1],O=Object(n.useState)(!0),k=Object(ee.a)(O,2),S=k[0],j=k[1],A=he("microchip"),I=de(""),B=Object(n.useState)(!1),L=Object(ee.a)(B,2),F=L[0],T=L[1],_=Object(n.useState)(!1),R=Object(ee.a)(_,2),q=R[0],D=R[1],U=Object(n.useState)(!1),$=Object(ee.a)(U,2),z=$[0],W=$[1];Object(n.useEffect)((function(){function e(){return(e=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(v);case 2:return(a=e.sent).error||p(a.data),e.next=6,se();case 6:(t=e.sent).error||x(parseInt(t.data/20)),j(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}F||(j(!0),function(){e.apply(this,arguments)}())}),[l,v,F]);var Y=function(e){(e&&e.preventDefault(),""!==I.value.trim())&&function(){var e=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),a={field:A.selected,value:I.value.trim()},e.next=4,ue(a);case 4:(t=e.sent).error?(D(!0),T(!1)):(D(!1),T(!0),p(t.data)),W(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},H=function(e){e.preventDefault(),e.target.src=ge.a},K=function(e){return r.a.createElement("tr",{style:{height:"70px"}},r.a.createElement("td",null,r.a.createElement(m.b,{to:"/pets/edit/"+e.pet._id},e.pet.microchip)),r.a.createElement("td",{className:"text-uppercase"},e.pet.membership),r.a.createElement("td",{className:"text-capitalize"},e.pet.petName),r.a.createElement("td",{className:"text-lowercase"},""!==e.pet.ownerId&&r.a.createElement(m.b,{to:"/owners/edit/"+e.pet.ownerId},e.pet.email),""===e.pet.ownerId&&r.a.createElement(r.a.Fragment,null,e.pet.email)),r.a.createElement("td",{className:"text-capitalize"},e.pet.ownerName),r.a.createElement("td",null,Z()(new Date(e.pet.registered_at)).format("MMM DD, YYYY")),r.a.createElement("td",{className:"p-1"},r.a.createElement(ne.a,{placement:"left",delay:{show:250,hide:400},overlay:(a=e.pet,r.a.createElement(re.a,{id:a.microchip,className:"shadow"},r.a.createElement(re.a.Title,{as:"h2",className:"text-center"},a.microchip),r.a.createElement(re.a.Content,null,r.a.createElement("img",{src:a.photoPath?a.photoPath:ge.a,width:"100%",height:"auto",alt:a.microchip,onError:H}))))},r.a.createElement("img",{src:e.pet.photoPath?e.pet.photoPath:ge.a,width:"73",height:"73",alt:e.pet.microchip,onError:H}))),r.a.createElement("td",{className:"text-center pt-3"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return function(e){function a(){return(a=Object(C.a)(f.a.mark((function a(){var t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,me(e);case 2:(t=a.sent).error?console.log(t.errMsg):function(){var e=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(v);case 2:return(a=e.sent).error||(F?Y():p(a.data)),e.next=6,se();case 6:(t=e.sent).error||x(parseInt(t.data/20));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),j(!1);case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}j(!0),function(){a.apply(this,arguments)}()}(e.pet._id)}}," ",r.a.createElement(le.c,{className:"text-danger mx-1"}))));var a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Registerd Pets"),r.a.createElement(V.a,{className:"mt-4"},r.a.createElement(M.a,null,r.a.createElement(te.a,null,r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,{md:"4",className:"pl-0 my-auto"},r.a.createElement(te.a.Control,Object.assign({as:"select",className:"text-capitalize"},A),r.a.createElement("option",{value:"microchip"},"Microchip"),r.a.createElement("option",{value:"email"},"Owner Email"),r.a.createElement("option",{value:"petName"},"Pet Name"),r.a.createElement("option",{value:"ownerName"},"Owner Name"))),r.a.createElement(M.a,{md:"5",className:"pl-0 my-auto"},r.a.createElement(te.a.Control,Object.assign({type:"text"},I))),r.a.createElement(M.a,{md:"3",className:"pl-0"},r.a.createElement(w.a,{type:"submit",variant:"outline-info",className:"float-left px-2",disabled:z,onClick:Y},r.a.createElement(le.b,{className:"text-danger mx-1"})),r.a.createElement(w.a,{variant:"outline-danger",className:"float-left px-2",disabled:z,onClick:function(e){e.preventDefault(),D(!1),T(!1)}},r.a.createElement(oe.a,{className:"text-info mx-1"})))))),r.a.createElement(M.a,{className:"px-0"},P>1&&!F&&!q&&function(){function e(){return(e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(a);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Ce,{totalPages:P,currentPage:v,onChange:function(a){return e.apply(this,arguments)}})}())),r.a.createElement(V.a,null,r.a.createElement(ae.a,{responsive:!0},r.a.createElement("thead",{className:"bg-danger text-white"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"Microchip"),r.a.createElement("th",{style:{width:"11%",maxWidth:"11%"}},"Membership"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"Pet Name"),r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Owner Email"),r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Owner Name"),r.a.createElement("th",{style:{width:"13%",maxWidth:"13%"}},"Registered At"),r.a.createElement("th",{style:{width:"4%",maxWidth:"4%"}},"Photo"),r.a.createElement("th",{style:{width:"4%",maxWidth:"4%"}},"Action"))),!q&&r.a.createElement("tbody",null,function(e){return S?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(E.a,{className:"py-5 text-center",style:{position:"absolute"}},r.a.createElement(s.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:S})))):e.map((function(e,a){return r.a.createElement(K,{pet:e,key:a})}))}(u)))),q&&r.a.createElement(V.a,{className:"justify-content-md-center my-5"},r.a.createElement(ce.a,{className:"text-warning mr-1",size:24}),"No Pet Found")))}var Pe=t(35),xe=t(83),Oe=(t(157),t(8)),ke=t(81),Se=t.n(ke),je=t(642),Ae=t(65),Ge=function(e){return r.a.createElement("option",{value:e.sortname},e.name)},Ie=Oe.g({microchip:Oe.h().min(9,"Microchip must be at least 9 characters").max(15,"Microchip must be at most 15 characters").matches(/(^991\d{12}$|^990164\d{9}$|^\d{9}$|^[a-zA-Z0-9]{10}$)/,"Invalid microchip number. Enter only the 9, 10 or 15 character microchip number, with no punctuation or spaces.").required("Microchip is a required field"),petName:Oe.h().required("Pet Name is a required field"),petSpecies:Oe.h().notOneOf(["Choose One"]).required("Select Species"),petBreed:Oe.h().required("Breed is a required field"),petColor:Oe.h().required("Color is a required field"),petGender:Oe.h().required("Please select one"),petBirth:Oe.d().required("Birthdate is a required field"),email:Oe.h().email("Invalid email address").required("Email is a required field")}),Be=function(e){Object(H.a)(t,e);var a=Object(K.a)(t);function t(e){var n;return Object(W.a)(this,t),(n=a.call(this,e)).photoErrorHandle=function(e){e.preventDefault(),e.target.src=ge.a},n.onClickSubmit=n.onClickSubmit.bind(Object(Ee.a)(n)),n.onClickCancel=n.onClickCancel.bind(Object(Ee.a)(n)),n.onPetPhotoUpdate=n.onPetPhotoUpdate.bind(Object(Ee.a)(n)),n.photoErrorHandle=n.photoErrorHandle.bind(Object(Ee.a)(n)),n.state={values:{microchip:"",petName:"",petSpecies:"",petBreed:"",petColor:"",petGender:"male",petBirth:"",specialNeeds:"",vetInfo:"",dateRV:"",implantedCompany:"",email:"",ownerName:"",ownerPhone1:"",ownerPhone2:"",ownerPhone3:"",ownerPhone4:"",ownerPhone5:"",ownerPhone6:"",ownerPhone7:"",ownerAddress1:"",ownerAddress2:"",ownerCity:"",ownerState:"",ownerZip:"",ownerCountry:"US",ownerSecContact:"",ownerNote:"",membership:"platinum"},petPhoto:void 0,petPhotoPreview:void 0},n}return Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get(window.$server_url+"/pets/"+this.props.match.params.id).then((function(a){var t=a.data;null===t.petBirth||void 0===t.petBirth?t.petBirth="":t.petBirth=t.petBirth.split("T")[0],null===t.dateRV||void 0===t.dateRV?t.dateRV="":t.dateRV=t.dateRV.split("T")[0],e.setState({values:t}),g.a.get(window.$server_url+"/photos/"+t.microchip).then((function(a){e.setState({petPhotoPreview:""===a.data?ge.a:a.data})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"onClickSubmit",value:function(e){var a=this,t="";void 0!==this.state.petPhoto&&(t="/uploads/photo/"+e.microchip+"."+this.state.petPhoto.name.split(".")[this.state.petPhoto.name.split(".").length-1]),g.a.patch(window.$server_url+"/pets/edit/"+this.props.match.params.id,Object(Pe.a)(Object(Pe.a)({},e),{photoPath:t})).then((function(t){if(void 0!==a.state.petPhoto){var n=a.state.petPhoto.name,r=e.microchip+"."+n.split(".")[n.split(".").length-1],l=new FormData;l.append("petMicrochip",e.microchip),l.append("petPhotoName",r),l.append("petPhotoData",a.state.petPhoto),g.a.post(window.$server_url+"/photos/add",l).then((function(e){a.props.history.push("/pets")})).catch((function(e){console.log(e)}))}else a.props.history.push("/pets")}))}},{key:"onClickCancel",value:function(e){e.preventDefault(),this.props.history.push("/pets")}},{key:"listAllCountryOptions",value:function(){return Se.a.getAllCountries().map((function(e,a){return r.a.createElement(Ge,{name:e.name,sortname:e.sortname,key:a})}))}},{key:"onPetPhotoUpdate",value:function(e){e.preventDefault(),this.setState({petPhoto:e.target.files[0],petPhotoPreview:URL.createObjectURL(e.target.files[0])})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Update Pet")),r.a.createElement(xe.a,{enableReinitialize:!0,validationSchema:Ie,initialValues:{microchip:this.state.values.microchip,petName:this.state.values.petName,petSpecies:this.state.values.petSpecies,petBreed:this.state.values.petBreed,petColor:this.state.values.petColor,petGender:this.state.values.petGender,petBirth:this.state.values.petBirth,specialNeeds:this.state.values.specialNeeds,vetInfo:this.state.values.vetInfo,dateRV:this.state.values.dateRV,implantedCompany:this.state.values.implantedCompany,email:this.state.values.email,membership:this.state.values.membership},onSubmit:function(a,t){var n=t.setSubmitting;setTimeout((function(){e.onClickSubmit(a),n(!1)}),400)}},(function(a){var t=a.values,n=a.handleSubmit,l=a.handleChange,o=a.handleBlur,c=a.touched,i=a.errors,s=a.isSubmitting;return r.a.createElement(te.a,{noValidate:!0,onSubmit:n,autoComplete:"off"},r.a.createElement(E.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"h-100 shadow"},r.a.createElement(je.a.Header,{className:"bg-danger text-white"},r.a.createElement("h5",{className:"m-0"},"Pet Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Microchip Number"),r.a.createElement(te.a.Control,{type:"text",name:"microchip",placeholder:"Microchip Number",value:t.microchip,onChange:l,onBlur:o,isInvalid:c.microchip&&!!i.microchip,isValid:c.microchip&&!i.microchip}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.microchip),r.a.createElement(te.a.Text,{className:"text-muted"},"Do not include the microchip type code or manufacturer's name or abbreviation.")),r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Email Address"),r.a.createElement(te.a.Control,{type:"email",name:"email",placeholder:"Owner's Email Address",value:t.email,onChange:l,onBlur:o,isInvalid:c.email&&!!i.email,isValid:c.email&&!i.email}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.email),r.a.createElement(te.a.Text,{className:"text-muted"},"Never share this email with anyone else."))),r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,{type:"text",name:"petName",placeholder:"Pet's Name",value:t.petName,onChange:l,onBlur:o,isInvalid:c.petName&&!!i.petName,isValid:c.petName&&!i.petName}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petName)),r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Species"),r.a.createElement(te.a.Control,{className:"text-capitalize",as:"select",name:"petSpecies",value:t.petSpecies.toLowerCase(),onChange:l,onBlur:o,isInvalid:c.petSpecies&&!!i.petSpecies,isValid:c.petSpecies&&!i.petSpecies},r.a.createElement("option",{className:"text-capitalize"},"choose one"),r.a.createElement("option",{className:"text-capitalize"},"dog"),r.a.createElement("option",{className:"text-capitalize"},"cat"),r.a.createElement("option",{className:"text-capitalize"},"bird"),r.a.createElement("option",{className:"text-capitalize"},"ferret"),r.a.createElement("option",{className:"text-capitalize"},"goat"),r.a.createElement("option",{className:"text-capitalize"},"horse"),r.a.createElement("option",{className:"text-capitalize"},"pig"),r.a.createElement("option",{className:"text-capitalize"},"rabbit"),r.a.createElement("option",{className:"text-capitalize"},"snake")),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petSpecies))),r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Breed"),r.a.createElement(te.a.Control,{type:"text",name:"petBreed",placeholder:"Pet's Breed",value:t.petBreed,onChange:l,onBlur:o,isInvalid:c.petBreed&&!!i.petBreed,isValid:c.petBreed&&!i.petBreed}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petBreed)),r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Color"),r.a.createElement(te.a.Control,{type:"text",name:"petColor",placeholder:"Pet's Color",value:t.petColor,onChange:l,onBlur:o,isInvalid:c.petColor&&!!i.petColor,isValid:c.petColor&&!i.petColor}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petColor))),r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Gender"),r.a.createElement(M.a,{className:"p-0"},r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Male",name:"petGender",value:"male",checked:"male"===t.petGender.toLowerCase(),onChange:l,onBlur:o,isInvalid:c.petGender&&!!i.petGender,isValid:c.petGender&&!i.petGender}),r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Female",name:"petGender",value:"female",checked:"female"===t.petGender.toLowerCase(),onChange:l,onBlur:o,isInvalid:c.petGender&&!!i.petGender,isValid:c.petGender&&!i.petGender}),r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Other",name:"petGender",value:"other",checked:"other"===t.petGender.toLowerCase(),onChange:l,onBlur:o,isInvalid:c.petGender&&!!i.petGender,isValid:c.petGender&&!i.petGender}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petGender))),r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Birthdate"),r.a.createElement(te.a.Control,{type:"date",name:"petBirth",value:t.petBirth,onChange:l,onBlur:o,isInvalid:c.petBirth&&!!i.petBirth,isValid:c.petBirth&&!i.petBirth}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petBirth))),r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,null,r.a.createElement(te.a.Label,null,"Pet's Photo"),r.a.createElement(te.a.File,{custom:!0},r.a.createElement(te.a.File.Input,{name:"petPhoto",onChange:e.onPetPhotoUpdate}),r.a.createElement(te.a.File.Label,{"data-browse":"Upload"},"Max. 512mb. Type: .jpg / .jpeg / .png / .gif")),r.a.createElement(Ae.a,{src:e.state.petPhotoPreview,width:"100%",height:"auto",thumbnail:!0,onError:e.photoErrorHandle})),r.a.createElement(M.a,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Any Special Needs or Medications"),r.a.createElement(te.a.Control,{as:"textarea",name:"specialNeeds",value:t.specialNeeds,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Veterinary Information"),r.a.createElement(te.a.Control,{as:"textarea",name:"vetInfo",value:t.vetInfo,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Date of Rabies Vaccination"),r.a.createElement(te.a.Control,{type:"date",name:"dateRV",value:t.dateRV,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Veterinary Hospital or Clinic where Microchip was registered."),r.a.createElement(te.a.Control,{type:"text",name:"implantedCompany",placeholder:"Veterinary Hospital or Clinic",value:t.implantedCompany,onChange:l}),r.a.createElement(te.a.Text,{className:"text-muted"},'Please Type Full Name as it appears. i.e. "ZEPPY\'s Pet Hospital"')))),r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,null),r.a.createElement(M.a,null)),r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,null),r.a.createElement(M.a,null)))))),r.a.createElement(V.a,{className:"mt-5"},r.a.createElement(M.a,null,r.a.createElement(te.a.Group,{className:"p-3 mb-0 shadow"},r.a.createElement(V.a,null,r.a.createElement(M.a,{className:"text-center"},r.a.createElement(te.a.Label,{className:"mb-0"},"Select Membership Type")),r.a.createElement(M.a,{className:"p-0"},r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Platinum",name:"membership",value:"platinum",checked:"platinum"===t.membership,onChange:l}),r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Diamond",name:"membership",value:"diamond",checked:"diamond"===t.membership,onChange:l}))))),r.a.createElement(M.a,null,r.a.createElement(w.a,{className:"float-right",variant:"outline-secondary",onClick:e.onClickCancel},"Cancel"),r.a.createElement(w.a,{className:"float-right mr-2",variant:"primary",type:"submit",disabled:s},"Update Pet")))))})))}}]),t}(n.Component),Le=function(e){return r.a.createElement("option",{value:e.sortname},e.name)},Fe=Oe.g({microchip:Oe.h().min(9,"Microchip must be at least 9 characters").max(15,"Microchip must be at most 15 characters").matches(/(^991\d{12}$|^990164\d{9}$|^\d{9}$|^[a-zA-Z0-9]{10}$)/,"Invalid microchip number. Enter only the 9, 10 or 15 character microchip number, with no punctuation or spaces.").required("Microchip is a required field"),petName:Oe.h().required("Pet Name is a required field"),petSpecies:Oe.h().notOneOf(["Choose One"]).required("Select Species"),petBreed:Oe.h().required("Breed is a required field"),petColor:Oe.h().required("Color is a required field"),petGender:Oe.h().required("Please select one"),petBirth:Oe.d().required("Birthdate is a required field"),email:Oe.h().email("Invalid email address").required("Email is a required field"),ownerName:Oe.h().required("Owner Name is a required field"),ownerPhone1:Oe.h().phone("Phone number is not valid").required("Phone is a required field"),ownerPhone2:Oe.h().phone("Phone number is not valid"),ownerPhone3:Oe.h().phone("Phone number is not valid"),ownerPhone4:Oe.h().phone("Phone number is not valid"),ownerPhone5:Oe.h().phone("Phone number is not valid"),ownerPhone6:Oe.h().phone("Phone number is not valid"),ownerPhone7:Oe.h().phone("Phone number is not valid"),ownerAddress1:Oe.h().required("Address is a required field"),ownerCity:Oe.h().required("City is a required field"),ownerState:Oe.h().required("State is a required field"),ownerZip:Oe.h().matches(/^\d{5}(?:[-\s]\d{4})?$/,"Invalid Zip Code.").required("Zipcode is a required field")}),Te=function(e){Object(H.a)(t,e);var a=Object(K.a)(t);function t(e){var n;return Object(W.a)(this,t),(n=a.call(this,e)).onClickSubmit=n.onClickSubmit.bind(Object(Ee.a)(n)),n.onClickCancel=n.onClickCancel.bind(Object(Ee.a)(n)),n.onPetPhotoUpdate=n.onPetPhotoUpdate.bind(Object(Ee.a)(n)),n.state={petPhoto:void 0,petPhotoPreview:void 0,error:""},n}return Object(Y.a)(t,[{key:"onClickSubmit",value:function(e){var a=this,t="";void 0!==this.state.petPhoto&&(t="/uploads/photo/"+e.microchip+"."+this.state.petPhoto.name.split(".")[this.state.petPhoto.name.split(".").length-1]),g.a.post(window.$server_url+"/pets/register",Object(Pe.a)(Object(Pe.a)({},e),{photoPath:t})).then((function(t){if(void 0!==a.state.petPhoto){var n=a.state.petPhoto.name,r=e.microchip+"."+n.split(".")[n.split(".").length-1],l=new FormData;l.append("petMicrochip",e.microchip),l.append("petPhotoName",r),l.append("petPhotoData",a.state.petPhoto),g.a.post(window.$server_url+"/photos/add",l).then((function(e){a.props.history.push("/pets")})).catch((function(e){console.log(e)}))}else a.props.history.push("/pets")})).catch((function(e){a.setState({error:e.response.data})}))}},{key:"onClickCancel",value:function(e){e.preventDefault(),this.props.history.push("/pets")}},{key:"listAllCountryOptions",value:function(){return Se.a.getAllCountries().map((function(e,a){return r.a.createElement(Le,{name:e.name,sortname:e.sortname,key:a})}))}},{key:"onPetPhotoUpdate",value:function(e){e.preventDefault(),e.target.files[0]&&this.setState({petPhoto:e.target.files[0],petPhotoPreview:URL.createObjectURL(e.target.files[0])})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Register New Pet")),r.a.createElement(xe.a,{validationSchema:Fe,initialValues:{microchip:"",petName:"",petSpecies:"",petBreed:"",petColor:"",petGender:"",petBirth:"",specialNeeds:"",vetInfo:"",dateRV:"",implantedCompany:"",email:"",ownerName:"",ownerPhone1:"",ownerPhone2:"",ownerPhone3:"",ownerPhone4:"",ownerPhone5:"",ownerPhone6:"",ownerPhone7:"",ownerAddress1:"",ownerAddress2:"",ownerCity:"",ownerState:"",ownerZip:"",ownerCountry:"US",ownerSecContact:"",ownerNote:"",membership:"platinum"},onSubmit:function(a,t){var n=t.setSubmitting;setTimeout((function(){e.onClickSubmit(a),n(!1)}),400)}},(function(a){var t=a.values,n=a.handleSubmit,l=a.handleChange,o=a.handleBlur,c=a.touched,i=a.errors,s=a.isSubmitting;return r.a.createElement(te.a,{noValidate:!0,onSubmit:n,autoComplete:"off"},r.a.createElement(E.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"h-100 shadow"},r.a.createElement(je.a.Header,{className:"bg-danger text-white"},r.a.createElement("h5",{className:"m-0"},"Pet Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Microchip Number"),r.a.createElement(te.a.Control,{type:"text",name:"microchip",placeholder:"Microchip Number",value:t.microchip,onChange:l,onBlur:o,isInvalid:c.microchip&&!!i.microchip,isValid:c.microchip&&!i.microchip}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.microchip),r.a.createElement(te.a.Text,{className:"text-muted"},"Do not include the microchip type code or manufacturer's name or abbreviation.")),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,{type:"text",name:"petName",placeholder:"Pet's Name",value:t.petName,onChange:l,onBlur:o,isInvalid:c.petName&&!!i.petName,isValid:c.petName&&!i.petName}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petName)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Species"),r.a.createElement(te.a.Control,{as:"select",name:"petSpecies",value:t.petSpecies,onChange:l,onBlur:o,isInvalid:c.petSpecies&&!!i.petSpecies,isValid:c.petSpecies&&!i.petSpecies},r.a.createElement("option",null,"Choose One"),r.a.createElement("option",null,"Dog"),r.a.createElement("option",null,"Cat"),r.a.createElement("option",null,"Bird"),r.a.createElement("option",null,"Ferret"),r.a.createElement("option",null,"Goat"),r.a.createElement("option",null,"Horse"),r.a.createElement("option",null,"Pig"),r.a.createElement("option",null,"Rabbit"),r.a.createElement("option",null,"Snake")),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petSpecies)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Breed"),r.a.createElement(te.a.Control,{type:"text",name:"petBreed",placeholder:"Pet's Breed",value:t.petBreed,onChange:l,onBlur:o,isInvalid:c.petBreed&&!!i.petBreed,isValid:c.petBreed&&!i.petBreed}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petBreed)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Color"),r.a.createElement(te.a.Control,{type:"text",name:"petColor",placeholder:"Pet's Color",value:t.petColor,onChange:l,onBlur:o,isInvalid:c.petColor&&!!i.petColor,isValid:c.petColor&&!i.petColor}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petColor)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Gender"),r.a.createElement(M.a,{className:"p-0"},r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Male",name:"petGender",value:"male",checked:"male"===t.petGender,onChange:l,onBlur:o,isInvalid:c.petGender&&!!i.petGender,isValid:c.petGender&&!i.petGender}),r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Female",name:"petGender",value:"female",checked:"female"===t.petGender,onChange:l,onBlur:o,isInvalid:c.petGender&&!!i.petGender,isValid:c.petGender&&!i.petGender}),r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Other",name:"petGender",value:"other",checked:"other"===t.petGender,onChange:l,onBlur:o,isInvalid:c.petGender&&!!i.petGender,isValid:c.petGender&&!i.petGender}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petGender))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Birthdate"),r.a.createElement(te.a.Control,{type:"date",name:"petBirth",value:t.petBirth,onChange:l,onBlur:o,isInvalid:c.petBirth&&!!i.petBirth,isValid:c.petBirth&&!i.petBirth}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.petBirth)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Any Special Needs or Medications"),r.a.createElement(te.a.Control,{as:"textarea",name:"specialNeeds",value:t.specialNeeds,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Veterinary Information"),r.a.createElement(te.a.Control,{as:"textarea",name:"vetInfo",value:t.vetInfo,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Date of Rabies Vaccination"),r.a.createElement(te.a.Control,{type:"date",name:"dateRV",value:t.dateRV,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Veterinary Hospital or Clinic where Microchip was registered."),r.a.createElement(te.a.Control,{type:"text",name:"implantedCompany",placeholder:"Veterinary Hospital or Clinic",value:t.implantedCompany,onChange:l}),r.a.createElement(te.a.Text,{className:"text-muted"},'Please Type Full Name as it appears. i.e. "ZEPPY\'s Pet Hospital"')),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Pet's Photo"),r.a.createElement(te.a.File,{custom:!0},r.a.createElement(te.a.File.Input,{name:"petPhoto",onChange:e.onPetPhotoUpdate}),r.a.createElement(te.a.File.Label,{"data-browse":"Upload"},"Max. 512mb. Type: .jpg / .jpeg / .png / .gif"))),r.a.createElement(Ae.a,{src:e.state.petPhotoPreview,width:"100%",height:"auto",thumbnail:!0})))),r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"h-100 shadow"},r.a.createElement(je.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"Owner Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Email Address"),r.a.createElement(te.a.Control,{type:"email",name:"email",placeholder:"Owner's Email Address",value:t.email,onChange:l,onBlur:o,isInvalid:c.email&&!!i.email,isValid:c.email&&!i.email}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.email),r.a.createElement(te.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,{type:"text",name:"ownerName",placeholder:"Owner's Full Name",value:t.ownerName,onChange:l,onBlur:o,isInvalid:c.ownerName&&!!i.ownerName,isValid:c.ownerName&&!i.ownerName}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerName)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Phone"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone1",placeholder:"Owner's Primary Phone Number",value:t.ownerPhone1,onChange:l,onBlur:o,isInvalid:c.ownerPhone1&&!!i.ownerPhone1,isValid:c.ownerPhone1&&!i.ownerPhone1}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone1)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Secondary Phone"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone2",placeholder:"Owner's Secondary Phone Number",value:t.ownerPhone2,onChange:l,onBlur:o,isInvalid:c.ownerPhone2&&!!i.ownerPhone2}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone2)),r.a.createElement(te.a.Label,null,"Address"),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"text",name:"ownerAddress1",placeholder:"1234 Main St",value:t.ownerAddress1,onChange:l,onBlur:o,isInvalid:c.ownerAddress1&&!!i.ownerAddress1,isValid:c.ownerAddress1&&!i.ownerAddress1}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerAddress1)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"text",name:"ownerAddress2",placeholder:"Apartment, studio, or floor",value:t.ownerAddress2,onChange:l})),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerCity",placeholder:"City",value:t.ownerCity,onChange:l,onBlur:o,isInvalid:c.ownerCity&&!!i.ownerCity,isValid:c.ownerCity&&!i.ownerCity}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerCity)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerState",placeholder:"State",value:t.ownerState,onChange:l,onBlur:o,isInvalid:c.ownerState&&!!i.ownerState,isValid:c.ownerState&&!i.ownerState}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerState))),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerZip",placeholder:"12345 (12345-6789)",value:t.ownerZip,onChange:l,onBlur:o,isInvalid:c.ownerZip&&!!i.ownerZip,isValid:c.ownerZip&&!i.ownerZip}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerZip)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{as:"select",name:"ownerCountry",value:t.ownerCountry,onChange:l},e.listAllCountryOptions(t.ownerCountry)))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Secondary Contact"),r.a.createElement(te.a.Control,{type:"text",name:"ownerSecContact",placeholder:"Owner's Secondary Contact Information",value:t.ownerSecContact,onChange:l})),r.a.createElement(te.a.Label,null,"Additional Phones"),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone3",value:t.ownerPhone3,onChange:l,onBlur:o,isInvalid:c.ownerPhone3&&!!i.ownerPhone3}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone3)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone4",value:t.ownerPhone4,onChange:l,onBlur:o,isInvalid:c.ownerPhone4&&!!i.ownerPhone4}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone4)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone5",value:t.ownerPhone5,onChange:l,onBlur:o,isInvalid:c.ownerPhone5&&!!i.ownerPhone5}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone5)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone6",value:t.ownerPhone6,onChange:l,onBlur:o,isInvalid:c.ownerPhone6&&!!i.ownerPhone6}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone6)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone7",value:t.ownerPhone7,onChange:l,onBlur:o,isInvalid:c.ownerPhone7&&!!i.ownerPhone7}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone7)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Special Note"),r.a.createElement(te.a.Control,{as:"textarea",name:"ownerNote",value:t.ownerNote,onChange:l})))))),r.a.createElement(V.a,{className:"mt-5"},r.a.createElement(M.a,null,r.a.createElement(te.a.Group,{className:"p-3 mb-0 shadow"},r.a.createElement(V.a,null,r.a.createElement(M.a,{className:"text-center"},r.a.createElement(te.a.Label,{className:"mb-0"},"Select Membership Type")),r.a.createElement(M.a,{className:"p-0"},r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Platinum",name:"membership",value:"platinum",checked:"platinum"===t.membership,onChange:l}),r.a.createElement(te.a.Check,{className:"mr-4",inline:!0,type:"radio",label:"Diamond",name:"membership",value:"diamond",checked:"diamond"===t.membership,onChange:l}))))),r.a.createElement(M.a,null,r.a.createElement(w.a,{className:"float-right",variant:"outline-secondary",onClick:e.onClickCancel},"Cancel"),r.a.createElement(w.a,{className:"float-right mr-2",variant:"primary",type:"submit",disabled:s},"Register Pet"))),""!==e.state.error&&r.a.createElement(te.a.Text,{className:"text-danger float-right pr-5"},e.state.error)))})))}}]),t}(n.Component),_e=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(window.$server_url,"/owners/page/").concat(a));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(C.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(window.$server_url,"/owners/count"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(window.$server_url,"/owners/delete/").concat(a));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();function Me(){var e=Object(c.c)((function(e){return e.auth})),a=e.token,t=e.expiredAt,l=Object(c.b)();Object(n.useEffect)((function(){N(a);var e=setTimeout((function(){l(G(!0))}),Z()(t).diff()-1e4);return function(){clearTimeout(e)}}),[t,a,l]);var o=Object(n.useState)([]),i=Object(ee.a)(o,2),u=i[0],p=i[1],d=Object(n.useState)(1),h=Object(ee.a)(d,2),v=h[0],b=h[1],y=Object(n.useState)(1),g=Object(ee.a)(y,2),P=g[0],x=g[1],O=Object(n.useState)(!0),k=Object(ee.a)(O,2),S=k[0],j=k[1],A=he("email"),I=de(""),B=Object(n.useState)(!1),L=Object(ee.a)(B,2),F=L[0],T=L[1],_=Object(n.useState)(!1),R=Object(ee.a)(_,2),q=R[0],D=R[1],U=Object(n.useState)(!1),$=Object(ee.a)(U,2),z=$[0],W=$[1];Object(n.useEffect)((function(){function e(){return(e=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(v);case 2:return(a=e.sent).error||p(a.data),e.next=6,Re();case 6:(t=e.sent).error||x(parseInt(t.data/20)),j(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}F||(j(!0),function(){e.apply(this,arguments)}())}),[l,v,F]);var Y=function(e){(e&&e.preventDefault(),""!==I.value.trim())&&function(){var e=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),a={field:A.selected,value:I.value.trim()},e.next=4,pe(a);case 4:(t=e.sent).error?(D(!0),T(!1)):(D(!1),T(!0),p(t.data)),W(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},H=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(m.b,{to:"/owners/edit/"+e.owner._id},e.owner.ownerName)),r.a.createElement("td",{className:"text-lowercase"},e.owner.email),r.a.createElement("td",null,e.owner.ownerPhone1),r.a.createElement("td",{className:"text-capitalize"},e.owner.ownerCity),r.a.createElement("td",{className:"text-capitalize"},e.owner.ownerState),r.a.createElement("td",null,Z()(new Date(e.owner.registered_at)).format("MMM DD, YYYY")),r.a.createElement("td",{className:"text-center"},r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return function(e){function a(){return(a=Object(C.a)(f.a.mark((function a(){var t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ve(e);case 2:(t=a.sent).error?console.log(t.errMsg):function(){var e=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(v);case 2:return(a=e.sent).error||(F?Y():p(a.data)),e.next=6,Re();case 6:(t=e.sent).error||x(parseInt(t.data/20));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),j(!1);case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}j(!0),function(){a.apply(this,arguments)}()}(e.owner._id)}}," ",r.a.createElement(le.c,{className:"text-danger mx-1"}))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Registerd Owners"),r.a.createElement(V.a,{className:"mt-4"},r.a.createElement(M.a,null,r.a.createElement(te.a,null,r.a.createElement(te.a.Group,{as:V.a},r.a.createElement(M.a,{md:"4",className:"pl-0 my-auto"},r.a.createElement(te.a.Control,Object.assign({as:"select",className:"text-capitalize"},A),r.a.createElement("option",{value:"email"},"Email"),r.a.createElement("option",{value:"ownerName"},"Owner Name"),r.a.createElement("option",{value:"ownerState"},"Owner State"))),r.a.createElement(M.a,{md:"5",className:"pl-0 my-auto"},r.a.createElement(te.a.Control,Object.assign({type:"text"},I))),r.a.createElement(M.a,{md:"3",className:"pl-0"},r.a.createElement(w.a,{type:"submit",variant:"outline-info",className:"float-left px-2",disabled:z,onClick:Y},r.a.createElement(le.b,{className:"text-danger mx-1"})),r.a.createElement(w.a,{variant:"outline-danger",className:"float-left px-2",disabled:z,onClick:function(e){e.preventDefault(),D(!1),T(!1)}},r.a.createElement(oe.a,{className:"text-info mx-1"})))))),r.a.createElement(M.a,{className:"px-0"},P>1&&!F&&!q&&function(){function e(){return(e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(a);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Ce,{totalPages:P,currentPage:v,onChange:function(a){return e.apply(this,arguments)}})}())),r.a.createElement(V.a,null,r.a.createElement(ae.a,{responsive:!0},r.a.createElement("thead",{className:"bg-danger text-white"},r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Full Name"),r.a.createElement("th",{style:{width:"20%",maxWidth:"20%"}},"Email Address"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"Primary Phone"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"City"),r.a.createElement("th",{style:{width:"14%",maxWidth:"14%"}},"State"),r.a.createElement("th",{style:{width:"13%",maxWidth:"13%"}},"Registered At"),r.a.createElement("th",{style:{width:"5%",maxWidth:"5%"}},"Action"))),!q&&r.a.createElement("tbody",null,function(e){return S?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(E.a,{className:"my-5 py-5 text-center",style:{position:"absolute"}},r.a.createElement(s.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:S})))):e.map((function(e,a){return r.a.createElement(H,{owner:e,key:a})}))}(u)))),q&&r.a.createElement(V.a,{className:"justify-content-md-center my-5"},r.a.createElement(ce.a,{className:"text-warning mr-1",size:24}),"No Owner Found")))}var qe=function(e){return r.a.createElement("option",{value:e.sortname},e.name)},De=Oe.g({email:Oe.h().email("Invalid email address").required("Email is a required field"),ownerName:Oe.h().required("Owner Name is a required field"),ownerPhone1:Oe.h().phone("Phone number is not valid").required("Phone is a required field"),ownerPhone2:Oe.h().phone("Phone number is not valid"),ownerPhone3:Oe.h().phone("Phone number is not valid"),ownerPhone4:Oe.h().phone("Phone number is not valid"),ownerPhone5:Oe.h().phone("Phone number is not valid"),ownerPhone6:Oe.h().phone("Phone number is not valid"),ownerPhone7:Oe.h().phone("Phone number is not valid"),ownerAddress1:Oe.h().required("Address is a required field"),ownerCity:Oe.h().required("City is a required field"),ownerState:Oe.h().required("State is a required field"),ownerZip:Oe.h().matches(/^\d{5}(?:[-\s]\d{4})?$/,"Invalid Zip Code.").required("Zipcode is a required field")}),Ue=function(e){Object(H.a)(t,e);var a=Object(K.a)(t);function t(e){var n;return Object(W.a)(this,t),(n=a.call(this,e)).onClickSubmit=n.onClickSubmit.bind(Object(Ee.a)(n)),n.onClickCancel=n.onClickCancel.bind(Object(Ee.a)(n)),n.state={values:{email:"",ownerName:"",ownerPhone1:"",ownerPhone2:"",ownerPhone3:"",ownerPhone4:"",ownerPhone5:"",ownerPhone6:"",ownerPhone7:"",ownerAddress1:"",ownerAddress2:"",ownerCity:"",ownerState:"",ownerZip:"",ownerCountry:"US",ownerSecContact:"",ownerNote:""}},n}return Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get(window.$server_url+"/owners/"+this.props.match.params.id).then((function(a){e.setState({values:a.data})})).catch((function(e){console.log(e)}))}},{key:"onClickSubmit",value:function(e){var a=this;g.a.patch(window.$server_url+"/owners/edit/"+this.state.values._id,e).then((function(e){a.props.history.push("/owners")})).catch((function(e){console.log(e)}))}},{key:"onClickCancel",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"listAllCountryOptions",value:function(){return Se.a.getAllCountries().map((function(e,a){return r.a.createElement(qe,{name:e.name,sortname:e.sortname,key:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Update Owner")),r.a.createElement(xe.a,{enableReinitialize:!0,validationSchema:De,initialValues:{email:this.state.values.email,ownerName:this.state.values.ownerName,ownerPhone1:this.state.values.ownerPhone1,ownerPhone2:this.state.values.ownerPhone2,ownerPhone3:this.state.values.ownerPhone3,ownerPhone4:this.state.values.ownerPhone4,ownerPhone5:this.state.values.ownerPhone5,ownerPhone6:this.state.values.ownerPhone6,ownerPhone7:this.state.values.ownerPhone7,ownerAddress1:this.state.values.ownerAddress1,ownerAddress2:this.state.values.ownerAddress2,ownerCity:this.state.values.ownerCity,ownerState:this.state.values.ownerState,ownerZip:this.state.values.ownerZip,ownerCountry:this.state.values.ownerCountry,ownerSecContact:this.state.values.ownerSecContact,ownerNote:this.state.values.ownerNote},onSubmit:function(a,t){var n=t.setSubmitting;setTimeout((function(){e.onClickSubmit(a),n(!1)}),400)}},(function(a){var t=a.values,n=a.handleSubmit,l=a.handleChange,o=a.handleBlur,c=a.touched,i=a.errors,s=a.isSubmitting;return r.a.createElement(te.a,{noValidate:!0,onSubmit:n,autoComplete:"off"},r.a.createElement(E.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"h-100 shadow"},r.a.createElement(je.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"Owner Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Email Address"),r.a.createElement(te.a.Control,{type:"email",name:"email",placeholder:"Owner's Email Address",value:t.email,onChange:l,onBlur:o,isInvalid:c.email&&!!i.email,isValid:c.email&&!i.email}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.email),r.a.createElement(te.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,{type:"text",name:"ownerName",placeholder:"Owner's Full Name",value:t.ownerName,onChange:l,onBlur:o,isInvalid:c.ownerName&&!!i.ownerName,isValid:c.ownerName&&!i.ownerName}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerName))),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Phone"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone1",placeholder:"Owner's Primary Phone Number",value:t.ownerPhone1,onChange:l,onBlur:o,isInvalid:c.ownerPhone1&&!!i.ownerPhone1,isValid:c.ownerPhone1&&!i.ownerPhone1}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone1)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Secondary Phone"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone2",placeholder:"Owner's Secondary Phone Number",value:t.ownerPhone2,onChange:l,onBlur:o,isInvalid:c.ownerPhone2&&!!i.ownerPhone2}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone2))),r.a.createElement(te.a.Label,null,"Address"),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerAddress1",placeholder:"1234 Main St",value:t.ownerAddress1,onChange:l,onBlur:o,isInvalid:c.ownerAddress1&&!!i.ownerAddress1,isValid:c.ownerAddress1&&!i.ownerAddress1}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerAddress1)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerAddress2",placeholder:"Apartment, studio, or floor",value:t.ownerAddress2,onChange:l}))),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerCity",placeholder:"City",value:t.ownerCity,onChange:l,onBlur:o,isInvalid:c.ownerCity&&!!i.ownerCity,isValid:c.ownerCity&&!i.ownerCity}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerCity)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerState",placeholder:"State",value:t.ownerState,onChange:l,onBlur:o,isInvalid:c.ownerState&&!!i.ownerState,isValid:c.ownerState&&!i.ownerState}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerState)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerZip",placeholder:"12345 (12345-6789)",value:t.ownerZip,onChange:l,onBlur:o,isInvalid:c.ownerZip&&!!i.ownerZip,isValid:c.ownerZip&&!i.ownerZip}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerZip)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{as:"select",name:"ownerCountry",value:t.ownerCountry,onChange:l},e.listAllCountryOptions(t.ownerCountry)))),r.a.createElement(te.a.Row,null,r.a.createElement(M.a,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Secondary Contact"),r.a.createElement(te.a.Control,{type:"text",name:"ownerSecContact",placeholder:"Owner's Secondary Contact Information",value:t.ownerSecContact,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Special Note"),r.a.createElement(te.a.Control,{as:"textarea",name:"ownerNote",value:t.ownerNote,onChange:l}))),r.a.createElement(M.a,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Additional Phones"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone3",value:t.ownerPhone3,onChange:l,onBlur:o,isInvalid:c.ownerPhone3&&!!i.ownerPhone3}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone3)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone4",value:t.ownerPhone4,onChange:l,onBlur:o,isInvalid:c.ownerPhone4&&!!i.ownerPhone4}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone4)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone5",value:t.ownerPhone5,onChange:l,onBlur:o,isInvalid:c.ownerPhone5&&!!i.ownerPhone5}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone5)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone6",value:t.ownerPhone6,onChange:l,onBlur:o,isInvalid:c.ownerPhone6&&!!i.ownerPhone6}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone6)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone7",value:t.ownerPhone7,onChange:l,onBlur:o,isInvalid:c.ownerPhone7&&!!i.ownerPhone7}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone7)))))))),r.a.createElement(V.a,{className:"mt-5"},r.a.createElement(M.a,null,r.a.createElement(w.a,{className:"float-right",variant:"outline-secondary",onClick:e.onClickCancel},"Cancel"),r.a.createElement(w.a,{className:"float-right mr-2",variant:"primary",type:"submit",disabled:s},"Update Owner")))))})))}}]),t}(n.Component),Ze=function(e){return r.a.createElement("option",{value:e.sortname},e.name)},$e=Oe.g({email:Oe.h().email("Invalid email address").required("Email is a required field"),ownerName:Oe.h().required("Owner Name is a required field"),ownerPhone1:Oe.h().phone("Phone number is not valid").required("Phone is a required field"),ownerPhone2:Oe.h().phone("Phone number is not valid"),ownerPhone3:Oe.h().phone("Phone number is not valid"),ownerPhone4:Oe.h().phone("Phone number is not valid"),ownerPhone5:Oe.h().phone("Phone number is not valid"),ownerPhone6:Oe.h().phone("Phone number is not valid"),ownerPhone7:Oe.h().phone("Phone number is not valid"),ownerAddress1:Oe.h().required("Address is a required field"),ownerCity:Oe.h().required("City is a required field"),ownerState:Oe.h().required("State is a required field"),ownerZip:Oe.h().matches(/^\d{5}(?:[-\s]\d{4})?$/,"Invalid Zip Code.").required("Zipcode is a required field")}),ze=function(e){Object(H.a)(t,e);var a=Object(K.a)(t);function t(e){var n;return Object(W.a)(this,t),(n=a.call(this,e)).onClickSubmit=n.onClickSubmit.bind(Object(Ee.a)(n)),n.onClickCancel=n.onClickCancel.bind(Object(Ee.a)(n)),n.state={error:""},n}return Object(Y.a)(t,[{key:"onClickSubmit",value:function(e){var a=this;g.a.post(window.$server_url+"/owners/register",e).then((function(e){a.props.history.push("/owners")})).catch((function(e){a.setState({error:e.response.data})}))}},{key:"onClickCancel",value:function(e){e.preventDefault(),this.props.history.push("/owners")}},{key:"listAllCountryOptions",value:function(){return Se.a.getAllCountries().map((function(e,a){return r.a.createElement(Ze,{name:e.name,sortname:e.sortname,key:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Register New Owner")),r.a.createElement(xe.a,{validationSchema:$e,initialValues:{email:"",ownerName:"",ownerPhone1:"",ownerPhone2:"",ownerPhone3:"",ownerPhone4:"",ownerPhone5:"",ownerPhone6:"",ownerPhone7:"",ownerAddress1:"",ownerAddress2:"",ownerCity:"",ownerState:"",ownerZip:"",ownerCountry:"US",ownerSecContact:"",ownerNote:""},onSubmit:function(a,t){var n=t.setSubmitting;setTimeout((function(){e.onClickSubmit(a),n(!1)}),400)}},(function(a){var t=a.values,n=a.handleSubmit,l=a.handleChange,o=a.handleBlur,c=a.touched,i=a.errors,s=a.isSubmitting;return r.a.createElement(te.a,{noValidate:!0,onSubmit:n,autoComplete:"off"},r.a.createElement(E.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"h-100 shadow"},r.a.createElement(je.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"Owner Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Email Address"),r.a.createElement(te.a.Control,{type:"email",name:"email",placeholder:"Owner's Email Address",value:t.email,onChange:l,onBlur:o,isInvalid:c.email&&!!i.email,isValid:c.email&&!i.email}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.email),r.a.createElement(te.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,{type:"text",name:"ownerName",placeholder:"Owner's Full Name",value:t.ownerName,onChange:l,onBlur:o,isInvalid:c.ownerName&&!!i.ownerName,isValid:c.ownerName&&!i.ownerName}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerName))),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Phone"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone1",placeholder:"Owner's Primary Phone Number",value:t.ownerPhone1,onChange:l,onBlur:o,isInvalid:c.ownerPhone1&&!!i.ownerPhone1,isValid:c.ownerPhone1&&!i.ownerPhone1}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone1)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Label,null,"Secondary Phone"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone2",placeholder:"Owner's Secondary Phone Number",value:t.ownerPhone2,onChange:l,onBlur:o,isInvalid:c.ownerPhone2&&!!i.ownerPhone2}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone2))),r.a.createElement(te.a.Label,null,"Address"),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerAddress1",placeholder:"1234 Main St",value:t.ownerAddress1,onChange:l,onBlur:o,isInvalid:c.ownerAddress1&&!!i.ownerAddress1,isValid:c.ownerAddress1&&!i.ownerAddress1}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerAddress1)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerAddress2",placeholder:"Apartment, studio, or floor",value:t.ownerAddress2,onChange:l}))),r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerCity",placeholder:"City",value:t.ownerCity,onChange:l,onBlur:o,isInvalid:c.ownerCity&&!!i.ownerCity,isValid:c.ownerCity&&!i.ownerCity}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerCity)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerState",placeholder:"State",value:t.ownerState,onChange:l,onBlur:o,isInvalid:c.ownerState&&!!i.ownerState,isValid:c.ownerState&&!i.ownerState}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerState)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{type:"text",name:"ownerZip",placeholder:"12345 (12345-6789)",value:t.ownerZip,onChange:l,onBlur:o,isInvalid:c.ownerZip&&!!i.ownerZip,isValid:c.ownerZip&&!i.ownerZip}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerZip)),r.a.createElement(te.a.Group,{as:M.a},r.a.createElement(te.a.Control,{as:"select",name:"ownerCountry",value:t.ownerCountry,onChange:l},e.listAllCountryOptions(t.ownerCountry)))),r.a.createElement(te.a.Row,null,r.a.createElement(M.a,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Secondary Contact"),r.a.createElement(te.a.Control,{type:"text",name:"ownerSecContact",placeholder:"Owner's Secondary Contact Information",value:t.ownerSecContact,onChange:l})),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Special Note"),r.a.createElement(te.a.Control,{as:"textarea",name:"ownerNote",value:t.ownerNote,onChange:l}))),r.a.createElement(M.a,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Additional Phones"),r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone3",value:t.ownerPhone3,onChange:l,onBlur:o,isInvalid:c.ownerPhone3&&!!i.ownerPhone3}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone3)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone4",value:t.ownerPhone4,onChange:l,onBlur:o,isInvalid:c.ownerPhone4&&!!i.ownerPhone4}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone4)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone5",value:t.ownerPhone5,onChange:l,onBlur:o,isInvalid:c.ownerPhone5&&!!i.ownerPhone5}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone5)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone6",value:t.ownerPhone6,onChange:l,onBlur:o,isInvalid:c.ownerPhone6&&!!i.ownerPhone6}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone6)),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Control,{type:"phone",name:"ownerPhone7",value:t.ownerPhone7,onChange:l,onBlur:o,isInvalid:c.ownerPhone7&&!!i.ownerPhone7}),r.a.createElement(te.a.Control.Feedback,{type:"invalid"},i.ownerPhone7)))))))),r.a.createElement(V.a,{className:"mt-5"},r.a.createElement(M.a,null,r.a.createElement(w.a,{className:"float-right",variant:"outline-secondary",onClick:e.onClickCancel},"Cancel"),r.a.createElement(w.a,{className:"float-right mr-2",variant:"primary",type:"submit",disabled:s},"Register Owner"))),""!==e.state.error&&r.a.createElement(te.a.Text,{className:"text-danger float-right pr-5"},e.state.error)))})))}}]),t}(n.Component),We=function(){var e=Object(C.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(window.$server_url,"/users"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(window.$server_url,"/users/").concat(a));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),He=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(window.$server_url,"/users/add"),a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(C.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(window.$server_url,"/users/delete/").concat(a));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),Je=function(){var e=Object(C.a)(f.a.mark((function e(a,t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.patch("".concat(window.$server_url,"/users/edit/").concat(a),t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,errMsg:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}();function Xe(){var e=Object(c.c)((function(e){return e.auth})),a=e.token,t=e.expiredAt,l=Object(c.b)();Object(n.useEffect)((function(){N(a);var e=setTimeout((function(){l(G(!0))}),Z()(t).diff()-1e4);return function(){clearTimeout(e)}}),[t,a,l]);var o=e.user.userId,i=e.user.username,u=Object(n.useState)([]),p=Object(ee.a)(u,2),d=p[0],h=p[1],w=Object(n.useState)(""),v=Object(ee.a)(w,2),b=v[0],y=v[1],g=Object(n.useState)(!0),P=Object(ee.a)(g,2),x=P[0],O=P[1];Object(n.useEffect)((function(){function e(){return(e=Object(C.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:(a=e.sent).error?l(I()):h(a.data),O(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O(!0),function(){e.apply(this,arguments)}()}),[l]);var k=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(m.b,{to:"/users/edit/"+e.user._id},e.user.name)),r.a.createElement("td",null,e.user.email),r.a.createElement("td",null,e.user.phone),r.a.createElement("td",null,e.user.role),r.a.createElement("td",null,i!==e.user.email&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"tel:"+e.user.phone},r.a.createElement(ce.b,{className:"text-info mx-1"}))," ",r.a.createElement("a",{href:"mailto:"+e.user.email},r.a.createElement(le.a,{className:"text-primary mx-1"}))),!e.user.isAdmin&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return function(e){function a(){return(a=Object(C.a)(f.a.mark((function a(){var t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ke(e);case 2:(t=a.sent).error?(y(t.errMsg),setTimeout((function(){y("")}),3e3)):h(t.data);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}(e.user._id)}}," ",r.a.createElement(le.c,{style:{cursor:"pointer"},className:"text-danger mx-1"})))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"All Portal Users"),r.a.createElement(V.a,null,r.a.createElement(ae.a,{responsive:!0},r.a.createElement("thead",{className:"bg-success text-white"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Manage"))),r.a.createElement("tbody",null,function(e){return x?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(E.a,{className:"py-5 text-center",style:{position:"absolute"}},r.a.createElement(s.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:x})))):e.map((function(e,a){if(e._id===o)return null;var t={};switch(e.role){case"admin":t.role="STL Admin";break;case"rep":t.role="STL Rep";break;default:t.role="Vet Practice"}return r.a.createElement(k,{user:Object(Pe.a)(Object(Pe.a)({},e),t),key:a})}))}(d)))),""!==b&&r.a.createElement("p",{className:"float-right text-danger mx-4"},b)))}var Qe=t(119),ea=t.n(Qe);function aa(){var e=Object(c.c)((function(e){return e.auth})),a=e.token,t=e.expiredAt,l=Object(c.b)();Object(n.useEffect)((function(){N(a);var e=setTimeout((function(){l(G(!0))}),Z()(t).diff()-1e4);return function(){clearTimeout(e)}}),[t,a,l]);var o=he("vet"),i=de(""),s=de(""),m=de(""),p=de(""),d=de(""),h=Object(u.g)(),v=Object(n.useState)(""),b=Object(ee.a)(v,2),y=b[0],g=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"Add A New Portal User"),r.a.createElement(te.a,{autoComplete:"off"},r.a.createElement(V.a,null,r.a.createElement(M.a,{className:"align-self-center"},r.a.createElement(Ae.a,{src:ea.a,roundedCircle:!0,width:"90%"})),r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"shadow"},r.a.createElement(je.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"User Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Role"),r.a.createElement(M.a,{className:"p-0"},r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"admin",label:"STL Admin",checked:"admin"===o.selected},o)),r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"rep",checked:"rep"===o.selected,label:"STL Representation"},o)),r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"vet",label:"Vet Practice",checked:"vet"===o.selected},o)))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,Object.assign({id:"userName",type:"text"},i,{placeholder:"Enter Full Name"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Email"),r.a.createElement(te.a.Control,Object.assign({id:"userEmail",type:"email"},s,{placeholder:"Enter Email Address"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Phone"),r.a.createElement(te.a.Control,Object.assign({id:"userPhone",type:"text"},m,{placeholder:"Enter Phone Number"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Password"),r.a.createElement(te.a.Control,Object.assign({id:"userPass",type:"password"},p,{placeholder:"Enter Password"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Confirm Password"),r.a.createElement(te.a.Control,Object.assign({id:"userPassConfirm",type:"password"},d,{placeholder:"Enter Password Again"}))))))),r.a.createElement(V.a,null,r.a.createElement(M.a,null,r.a.createElement(w.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),h.push("/users")}},"Cancel"),r.a.createElement(w.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){(e.preventDefault(),p.value===d.value)?function(){var e=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={role:o.selected,email:s.value,phone:m.value,name:i.value,password:p.value}).isAdmin="admin"===a.role,e.next=4,He(a);case 4:(t=e.sent).error?g(t.errMsg):h.push("/users");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():g("Password do not match")}},"Add User"),y&&r.a.createElement(te.a.Text,{className:"text-danger float-right mr-4"},y))))))}function ta(){var e=Object(c.c)((function(e){return e.auth})),a=e.token,t=e.expiredAt,l=Object(c.b)();Object(n.useEffect)((function(){N(a);var e=setTimeout((function(){l(G(!0))}),Z()(t).diff()-1e4);return function(){clearTimeout(e)}}),[t,a,l]);var o=Object(u.h)().id,i=e.user.userId,s=Object(u.g)(),m=Object(n.useState)(""),p=Object(ee.a)(m,2),d=p[0],h=p[1],v=Object(n.useState)({role:"",name:"",email:"",phone:""}),b=Object(ee.a)(v,2),y=b[0],g=b[1],P=he(y.role),x=de(y.name),O=de(y.email),k=de(y.phone),S=de(""),j=de("");Object(n.useEffect)((function(){function e(){return(e=Object(C.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(o);case 2:(a=e.sent).error?l(I()):(console.log(a.data),g(a.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,o,g]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,i===o&&r.a.createElement("h1",{className:"m-5 text-center"},"My Profile"),i!==o&&r.a.createElement("h1",{className:"m-5 text-center"},"Edit User"),r.a.createElement(te.a,{autoComplete:"off"},r.a.createElement(V.a,null,r.a.createElement(M.a,{className:"align-self-center"},r.a.createElement(Ae.a,{src:ea.a,roundedCircle:!0,width:"90%"})),r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"shadow"},r.a.createElement(je.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"User Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Role"),r.a.createElement(M.a,{className:"p-0"},r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"admin",label:"STL Admin",checked:"admin"===P.selected},P,{disabled:i===o})),r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"rep",checked:"rep"===P.selected,label:"STL Representation"},P,{disabled:i===o})),r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"vet",label:"Vet Practice",checked:"vet"===P.selected},P,{disabled:i===o})))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,Object.assign({type:"text"},x,{placeholder:"Enter Full Name"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Email"),r.a.createElement(te.a.Control,Object.assign({type:"email"},O,{placeholder:"Enter Email Address"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Phone"),r.a.createElement(te.a.Control,Object.assign({type:"text"},k,{placeholder:"Enter Phone Number"}))),o===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Password"),r.a.createElement(te.a.Control,Object.assign({type:"password"},S,{placeholder:"Enter Password"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Confirm Password"),r.a.createElement(te.a.Control,Object.assign({type:"password"},j,{placeholder:"Enter Password Again"})))))))),r.a.createElement(V.a,null,r.a.createElement(M.a,null,r.a.createElement(w.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),s.push("/users")}},"Cancel"),r.a.createElement(w.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){function a(){return(a=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},S.value!==j.value?h("Re-enter the passwords!"):a=o===i?{role:y.role,email:O.value,phone:k.value,name:x.value,password:S.value}:{role:P.selected,email:O.value,phone:k.value,name:x.value,password:S.value},a.isAdmin="admin"===a.role,e.next=5,Je(o,a);case 5:(t=e.sent).error?h(t.errMsg):s.push("/users");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){a.apply(this,arguments)}()}},"Update"),d&&r.a.createElement(te.a.Text,{className:"text-danger float-right mr-4"},d))))))}function na(){var e=Object(c.c)((function(e){return e.auth})),a=e.token,t=e.expiredAt,l=Object(c.b)();Object(n.useEffect)((function(){N(a);var e=setTimeout((function(){l(G(!0))}),Z()(t).diff()-1e4);return function(){clearTimeout(e)}}),[t,a,l]);var o=e.user.userId,i=Object(u.g)(),s=Object(n.useState)(""),m=Object(ee.a)(s,2),p=m[0],d=m[1],h=Object(n.useState)({role:"",name:"",email:"",phone:""}),v=Object(ee.a)(h,2),b=v[0],y=v[1],g=he(b.role),P=de(b.name),x=de(b.email),O=de(b.phone),k=de(""),S=de("");Object(n.useEffect)((function(){function e(){return(e=Object(C.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(o);case 2:(a=e.sent).error?l(I()):(console.log(a.data),y(a.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,o,y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"m-5 text-center"},"My Profile"),r.a.createElement(te.a,{autoComplete:"off"},r.a.createElement(V.a,null,r.a.createElement(M.a,{className:"align-self-center"},r.a.createElement(Ae.a,{src:ea.a,roundedCircle:!0,width:"90%"})),r.a.createElement(M.a,null,r.a.createElement(je.a,{className:"shadow"},r.a.createElement(je.a.Header,{className:"bg-success text-white"},r.a.createElement("h5",{className:"m-0"},"User Information")),r.a.createElement(je.a.Body,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Role"),r.a.createElement(M.a,{className:"p-0"},r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"admin",label:"STL Admin",checked:"admin"===g.selected},g,{disabled:!0})),r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"rep",checked:"rep"===g.selected,label:"STL Representation"},g,{disabled:!0})),r.a.createElement(te.a.Check,Object.assign({inline:!0,className:"mr-5",type:"radio",name:"role",value:"vet",label:"Vet Practice",checked:"vet"===g.selected},g,{disabled:!0})))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Name"),r.a.createElement(te.a.Control,Object.assign({type:"text"},P,{placeholder:"Enter Full Name"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Email"),r.a.createElement(te.a.Control,Object.assign({type:"email"},x,{placeholder:"Enter Email Address"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Phone"),r.a.createElement(te.a.Control,Object.assign({type:"text"},O,{placeholder:"Enter Phone Number"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Password"),r.a.createElement(te.a.Control,Object.assign({type:"password"},k,{placeholder:"Enter Password"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Confirm Password"),r.a.createElement(te.a.Control,Object.assign({type:"password"},S,{placeholder:"Enter Password Again"}))))))),r.a.createElement(V.a,null,r.a.createElement(M.a,null,r.a.createElement(w.a,{className:"float-right mt-5",variant:"outline-secondary",onClick:function(e){e.preventDefault(),i.push("/users")}},"Cancel"),r.a.createElement(w.a,{className:"float-right mr-2 mt-5",variant:"primary",onClick:function(e){function a(){return(a=Object(C.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},k.value!==S.value?d("Re-enter the passwords!"):a={role:b.role,email:x.value,phone:O.value,name:P.value,password:k.value},a.isAdmin="admin"===a.role,e.next=5,Je(o,a);case 5:(t=e.sent).error?d(t.errMsg):i.push("/users");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){a.apply(this,arguments)}()}},"Update"),p&&r.a.createElement(te.a.Text,{className:"text-danger float-right mr-4"},p))))))}function ra(){return r.a.createElement(r.a.Fragment,null)}function la(){var e=Object(c.c)((function(e){return e.auth})),a=Object(c.b)(),t=e.loginLoading,n=e.loginError,l=de(""),o=de("");return r.a.createElement(E.a,null,r.a.createElement(V.a,{className:"justify-content-md-center min-vh-100"},r.a.createElement(je.a,{className:"shadow w-50 my-auto"},r.a.createElement(je.a.Header,{className:"bg-danger text-white"},r.a.createElement("h3",{className:"m-0 text-center"},"Save This Life Admin Portal")),r.a.createElement(je.a.Body,null,r.a.createElement(V.a,null,r.a.createElement(M.a,{className:"my-auto"},r.a.createElement(je.a.Img,{variant:"left",className:"w-100",src:L.a})),r.a.createElement(M.a,null,r.a.createElement(je.a.Title,null,"Login Information"),r.a.createElement(je.a.Text,null,"Please request Heather the login credentials if you are a identified Vet Practice."),r.a.createElement(te.a,null,r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Email address"),r.a.createElement(te.a.Control,Object.assign({type:"email"},l,{placeholder:"Enter email"}))),r.a.createElement(te.a.Group,null,r.a.createElement(te.a.Label,null,"Password"),r.a.createElement(te.a.Control,Object.assign({type:"password"},o,{placeholder:"Enter Password"}))),r.a.createElement(w.a,{type:"submit",variant:"outline-info",onClick:function(){""!==l.value&&""!==o.value&&a(function(e,a){return function(){var t=Object(C.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"USER_LOGIN_STARTED"}),t.next=3,x(e,a);case 3:if(!(r=t.sent).error){t.next=7;break}return n(S(r.response)),t.abrupt("return");case 7:n(j(r.data));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l.value,o.value))},disabled:t},t?"Loading...":"Login"),n&&r.a.createElement(te.a.Text,{className:"text-danger"},n))))))))}function oa(){var e=Object(c.c)((function(e){return e.auth})),a=e.isAuthenticated,t=(null!==e.user&&e.user).isAdmin;return r.a.createElement(m.a,null,r.a.createElement("div",null,a&&r.a.createElement(F,null),r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(_,{path:"/",exact:!0,component:Q,isAuthenticated:a}),r.a.createElement(_,{path:"/pets",exact:!0,component:Ne,isAuthenticated:a}),r.a.createElement(_,{path:"/pets/edit/:id",exact:!0,component:Be,isAuthenticated:a}),r.a.createElement(_,{path:"/pets/register",exact:!0,component:Te,isAuthenticated:a}),r.a.createElement(_,{path:"/owners",exact:!0,component:Me,isAuthenticated:a}),r.a.createElement(_,{path:"/owners/edit/:id",exact:!0,component:Ue,isAuthenticated:a}),r.a.createElement(_,{path:"/owners/register",exact:!0,component:ze,isAuthenticated:a}),r.a.createElement(_,{path:"/users",exact:!0,component:Xe,isAuthenticated:a,isAdmin:t}),r.a.createElement(_,{path:"/users/add",exact:!0,component:aa,isAuthenticated:a,isAdmin:t}),r.a.createElement(_,{path:"/users/edit/:id",exact:!0,component:ta,isAuthenticated:a,isAdmin:t}),r.a.createElement(_,{path:"/setting",exact:!0,component:na,isAuthenticated:a}),r.a.createElement(_,{path:"/report",exact:!0,component:ra,isAuthenticated:a,isAdmin:t}),r.a.createElement(R,{path:"/login",component:la,isAuthenticated:a}),r.a.createElement(u.a,{to:a?"/":"/login"})))),a&&r.a.createElement(q,null))}function ca(){var e=Object(c.c)((function(e){return e.auth})),a=Object(c.b)(),t=e.authLoading;return Object(n.useEffect)((function(){a(G())}),[a]),t?r.a.createElement(V.a,{className:"vh-100"},r.a.createElement(s.a,{css:"margin: auto;",size:100,color:"#ff0000",loading:t})):r.a.createElement(oa,null)}var ia=t(86),sa=t(320),ma={token:null,expiredAt:null,user:null,authLoading:!0,isAuthenticated:!1,loginLoading:!1,loginError:null},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"VERIFY_TOKEN_STARTED":var t=a.payload.silentAuth;return t?Object(Pe.a)({},e):ma;case"VERIFY_TOKEN_END":return Object(Pe.a)(Object(Pe.a)({},e),{},{authLoading:!1});case"USER_LOGIN_STARTED":return Object(Pe.a)(Object(Pe.a)({},e),{},{loginLoading:!0});case"USER_LOGIN_FAILURE":var n=a.payload.error;return Object(Pe.a)(Object(Pe.a)({},e),{},{loginError:n,loginLoading:!1});case"VERIFY_USER_SUCCESS":var r=a.payload,l=r.token,o=r.expiredAt,c=r.user;return Object(Pe.a)(Object(Pe.a)({},e),{},{token:l,expiredAt:o,user:c,isAuthenticated:!0,authLoading:!1,loginLoading:!1});case"USER_LOGOUT":return Object(Pe.a)(Object(Pe.a)({},ma),{},{authLoading:!1});default:return e}},pa=Object(ia.c)({auth:ua}),da=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ia.d)(Object(ia.a)(sa.a)),ha=Object(ia.e)(pa,da);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(630);window.$server_url="https://portal.klikz.us:8443",o.a.render(r.a.createElement(c.a,{store:ha},r.a.createElement(ca,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,a,t){e.exports=t.p+"static/media/nophoto.0f35df8a.png"}},[[324,1,2]]]);
//# sourceMappingURL=main.1fb1c5d3.chunk.js.map